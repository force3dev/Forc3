(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[671],{8705:function(e,t,a){Promise.resolve().then(a.bind(a,2932))},6463:function(e,t,a){"use strict";var l=a(1169);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}}),a.o(l,"useSearchParams")&&a.d(t,{useSearchParams:function(){return l.useSearchParams}})},2932:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var l=a(7437),n=a(2265),s=a(6463);let r=[{value:"fat_loss",label:"Fat Loss"},{value:"muscle_gain",label:"Build Muscle"},{value:"strength",label:"Get Stronger"},{value:"endurance",label:"Improve Endurance"},{value:"general",label:"General Fitness"}],i=[{value:"beginner",label:"Beginner (0–1 yr)"},{value:"intermediate",label:"Intermediate (1–3 yr)"},{value:"advanced",label:"Advanced (3+ yr)"}],u=[{value:"full_gym",label:"Full Gym"},{value:"home_gym",label:"Home Gym"},{value:"minimal",label:"Minimal (Dumbbells)"},{value:"bodyweight",label:"Bodyweight Only"}];function o(){let e=(0,s.useRouter)(),[t,a]=(0,n.useState)({name:"",age:"",weight:"",height:"",goal:"general",experienceLevel:"beginner",trainingDays:"4",equipment:"full_gym",sport:"",injuries:"",unitSystem:"imperial"}),[o,c]=(0,n.useState)(!0),[d,x]=(0,n.useState)(!1),[m,g]=(0,n.useState)(!1);async function h(e){e.preventDefault(),x(!0),g(!1);try{let e="metric"===t.unitSystem,a=t.weight?e?parseFloat(t.weight):parseFloat(t.weight)/2.2046:null,l=t.height?e?parseFloat(t.height):2.54*parseFloat(t.height):null;await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name||null,age:t.age?parseInt(t.age):null,weight:a,height:l,goal:t.goal,experienceLevel:t.experienceLevel,trainingDays:parseInt(t.trainingDays),equipment:t.equipment,sport:t.sport||null,injuries:t.injuries||null,unitSystem:t.unitSystem})}),g(!0),setTimeout(()=>g(!1),2e3)}finally{x(!1)}}function b(e,t){a(a=>({...a,[e]:t}))}(0,n.useEffect)(()=>{fetch("/api/user/profile").then(e=>e.json()).then(e=>{let t=e.profile||{},l="metric"===t.unitSystem;a({name:t.name||"",age:t.age?String(t.age):"",weight:t.weight?String(l?Math.round(t.weight):Math.round(2.2046*t.weight)):"",height:t.height?String(l?Math.round(t.height):Math.round(t.height/2.54)):"",goal:t.goal||"general",experienceLevel:t.experienceLevel||"beginner",trainingDays:t.trainingDays?String(t.trainingDays):"4",equipment:t.equipment||"full_gym",sport:t.sport||"",injuries:t.injuries||"",unitSystem:t.unitSystem||"imperial"})}).catch(()=>{}).finally(()=>c(!1))},[]);let p="metric"===t.unitSystem;return o?(0,l.jsx)("main",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-8 h-8 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):(0,l.jsxs)("main",{className:"min-h-screen bg-black text-white pb-10",children:[(0,l.jsxs)("header",{className:"px-6 pt-8 pb-4 flex items-center gap-4",children:[(0,l.jsx)("button",{onClick:()=>e.back(),className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#1a1a1a] text-neutral-400 hover:text-white",children:"←"}),(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Edit Profile"})]}),(0,l.jsxs)("form",{onSubmit:h,className:"px-6 space-y-5",children:[(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-3",children:"Units"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{value:"imperial",label:"Imperial (lbs, in)"},{value:"metric",label:"Metric (kg, cm)"}].map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>b("unitSystem",e.value),className:"py-2.5 rounded-xl text-sm font-semibold transition-all ".concat(t.unitSystem===e.value?"bg-[#0066FF] text-white":"bg-[#0a0a0a] text-neutral-400"),children:e.label},e.value))})]}),(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5 space-y-4",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Personal Info"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs text-neutral-400",children:"Name"}),(0,l.jsx)("input",{type:"text",value:t.name,onChange:e=>b("name",e.target.value),placeholder:"Your name",className:"mt-1.5 w-full p-3 bg-[#0a0a0a] border border-[#262626] rounded-xl focus:border-[#0066FF] focus:outline-none text-sm"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs text-neutral-400",children:"Age"}),(0,l.jsx)("input",{type:"number",value:t.age,onChange:e=>b("age",e.target.value),placeholder:"25",className:"mt-1.5 w-full p-3 bg-[#0a0a0a] border border-[#262626] rounded-xl focus:border-[#0066FF] focus:outline-none text-sm"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"text-xs text-neutral-400",children:["Weight (",p?"kg":"lbs",")"]}),(0,l.jsx)("input",{type:"number",value:t.weight,onChange:e=>b("weight",e.target.value),placeholder:p?"75":"165",className:"mt-1.5 w-full p-3 bg-[#0a0a0a] border border-[#262626] rounded-xl focus:border-[#0066FF] focus:outline-none text-sm"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"text-xs text-neutral-400",children:["Height (",p?"cm":"in",")"]}),(0,l.jsx)("input",{type:"number",value:t.height,onChange:e=>b("height",e.target.value),placeholder:p?"175":"70",className:"mt-1.5 w-full p-3 bg-[#0a0a0a] border border-[#262626] rounded-xl focus:border-[#0066FF] focus:outline-none text-sm"})]})]})]}),(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5 space-y-4",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Training"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs text-neutral-400",children:"Goal"}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-2 mt-2",children:r.map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>b("goal",e.value),className:"py-2.5 px-4 rounded-xl text-sm font-medium text-left transition-all ".concat(t.goal===e.value?"bg-[#0066FF] text-white":"bg-[#0a0a0a] text-neutral-400 hover:text-white"),children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs text-neutral-400",children:"Experience Level"}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-2 mt-2",children:i.map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>b("experienceLevel",e.value),className:"py-2.5 px-4 rounded-xl text-sm font-medium text-left transition-all ".concat(t.experienceLevel===e.value?"bg-[#0066FF] text-white":"bg-[#0a0a0a] text-neutral-400 hover:text-white"),children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs text-neutral-400",children:"Training Days / Week"}),(0,l.jsx)("div",{className:"flex gap-2 mt-2",children:["2","3","4","5","6"].map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>b("trainingDays",e),className:"flex-1 py-2.5 rounded-xl text-sm font-bold transition-all ".concat(t.trainingDays===e?"bg-[#0066FF] text-white":"bg-[#0a0a0a] text-neutral-400"),children:e},e))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs text-neutral-400",children:"Equipment"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:u.map(e=>(0,l.jsx)("button",{type:"button",onClick:()=>b("equipment",e.value),className:"py-2.5 px-3 rounded-xl text-sm font-medium text-left transition-all ".concat(t.equipment===e.value?"bg-[#0066FF] text-white":"bg-[#0a0a0a] text-neutral-400 hover:text-white"),children:e.label},e.value))})]})]}),(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5 space-y-4",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Additional"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs text-neutral-400",children:"Sport / Focus (optional)"}),(0,l.jsx)("input",{type:"text",value:t.sport,onChange:e=>b("sport",e.target.value),placeholder:"e.g. powerlifting, crossfit",className:"mt-1.5 w-full p-3 bg-[#0a0a0a] border border-[#262626] rounded-xl focus:border-[#0066FF] focus:outline-none text-sm"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-xs text-neutral-400",children:"Injuries / Limitations (optional)"}),(0,l.jsx)("input",{type:"text",value:t.injuries,onChange:e=>b("injuries",e.target.value),placeholder:"e.g. bad left knee, shoulder impingement",className:"mt-1.5 w-full p-3 bg-[#0a0a0a] border border-[#262626] rounded-xl focus:border-[#0066FF] focus:outline-none text-sm"})]})]}),(0,l.jsx)("button",{type:"submit",disabled:d,className:"w-full py-4 font-bold rounded-2xl transition-all ".concat(m?"bg-[#00C853] text-white":d?"bg-neutral-800 text-neutral-500 cursor-not-allowed":"bg-[#0066FF] hover:bg-[#0052CC] text-white"),children:m?"✓ Saved!":d?"Saving...":"Save Profile"})]})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=8705)}),_N_E=e.O()}]);