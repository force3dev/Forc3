(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9674],{12566:function(e,s,t){Promise.resolve().then(t.bind(t,57980))},57980:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return n}});var a=t(57437),r=t(2265),l=t(87138);function n(){let[e,s]=(0,r.useState)([]),[t,n]=(0,r.useState)(0),[d,c]=(0,r.useState)(1),[i,x]=(0,r.useState)(""),[o,u]=(0,r.useState)("");return(0,r.useEffect)(()=>{!function(){let e=new URLSearchParams({page:String(d)});i&&e.set("q",i),o&&e.set("tier",o),fetch("/api/admin/users?".concat(e)).then(e=>e.json()).then(e=>{s(e.users||[]),n(e.total||0)}).catch(()=>{})}()},[d,i,o]),(0,a.jsx)("main",{className:"min-h-screen bg-black text-white p-6",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto space-y-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold",children:["Users (",t,")"]}),(0,a.jsx)(l.default,{href:"/admin",className:"text-sm text-neutral-500",children:"â† Admin"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{value:i,onChange:e=>x(e.target.value),placeholder:"Search email or name...",className:"flex-1 bg-[#141414] border border-[#262626] rounded-xl px-4 py-2 text-sm"}),(0,a.jsxs)("select",{value:o,onChange:e=>u(e.target.value),className:"bg-[#141414] border border-[#262626] rounded-xl px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:"",children:"All tiers"}),(0,a.jsx)("option",{value:"free",children:"Free"}),(0,a.jsx)("option",{value:"pro",children:"Pro"}),(0,a.jsx)("option",{value:"elite",children:"Elite"})]})]}),(0,a.jsx)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{className:"border-b border-[#262626]",children:(0,a.jsxs)("tr",{className:"text-left text-neutral-500 text-xs",children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"User"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Tier"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Workouts"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Streak"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Joined"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>{var s,t,r;return(0,a.jsxs)("tr",{className:"border-b border-[#1a1a1a] hover:bg-[#1a1a1a]",children:[(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"font-medium",children:e.displayName||e.email.split("@")[0]}),(0,a.jsx)("div",{className:"text-xs text-neutral-500",children:e.email})]}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold ".concat((null===(s=e.subscription)||void 0===s?void 0:s.tier)!=="free"?"bg-[#0066FF]/20 text-[#0066FF]":"bg-[#262626] text-neutral-400"),children:(null===(t=e.subscription)||void 0===t?void 0:t.tier)||"free"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-neutral-300",children:e._count.workoutLogs}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(null===(r=e.streak)||void 0===r?void 0:r.currentStreak)||0,"\uD83D\uDD25"]}),(0,a.jsx)("td",{className:"px-4 py-3 text-neutral-500 text-xs",children:new Date(e.createdAt).toLocaleDateString()})]},e.id)})})]})}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,a.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===d,className:"px-4 py-2 bg-[#141414] border border-[#262626] rounded-xl text-sm disabled:opacity-40",children:"Prev"}),(0,a.jsxs)("span",{className:"px-4 py-2 text-sm text-neutral-400",children:["Page ",d]}),(0,a.jsx)("button",{onClick:()=>c(e=>e+1),className:"px-4 py-2 bg-[#141414] border border-[#262626] rounded-xl text-sm",children:"Next"})]})]})})}}},function(e){e.O(0,[7138,2971,7023,1744],function(){return e(e.s=12566)}),_N_E=e.O()}]);