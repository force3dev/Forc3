(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3865],{33303:function(e,t,s){Promise.resolve().then(s.bind(s,89053))},16463:function(e,t,s){"use strict";var a=s(71169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},89053:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(57437),l=s(2265),n=s(16463),r=s(15321);function o(){let[e,t]=(0,l.useState)(""),[s,o]=(0,l.useState)(""),[u,c]=(0,l.useState)(!1),[i,m]=(0,l.useState)(null),[d,x]=(0,l.useState)(!1),[h,f]=(0,l.useState)(""),b=(0,n.useRouter)(),p=(0,l.useRef)(void 0),N=async e=>{if(e.length<3){m(null);return}c(!0);let t=await fetch("/api/user/check-username?username=".concat(encodeURIComponent(e)));m((await t.json()).available),c(!1)},j=e=>{let s=e.toLowerCase().replace(/[^a-z0-9_]/g,"").slice(0,20);t(s),m(null),clearTimeout(p.current),p.current=setTimeout(()=>N(s),500)};(0,l.useEffect)(()=>()=>clearTimeout(p.current),[]);let w=async()=>{if(!i)return;x(!0),f("");let t=await fetch("/api/user/set-username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,displayName:s})});t.ok?b.push("/onboarding"):(f((await t.json()).error||"Failed to save"),x(!1))};return(0,a.jsxs)("main",{className:"min-h-screen bg-black text-white flex flex-col p-6",children:[(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex-1 flex flex-col justify-center max-w-sm mx-auto w-full",children:[(0,a.jsx)("div",{className:"text-xs font-bold tracking-widest text-[#0066FF] mb-6",children:"FORC3"}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Create your profile"}),(0,a.jsx)("p",{className:"text-neutral-500 mb-8",children:"Choose a unique username for your FORC3 handle."}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsx)("label",{className:"text-sm text-neutral-400 mb-2 block",children:"Display Name"}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>o(e.target.value),placeholder:"John Doe",className:"w-full bg-[#141414] border border-[#262626] rounded-xl px-4 py-4 text-lg focus:border-[#0066FF] focus:outline-none"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("label",{className:"text-sm text-neutral-400 mb-2 block",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-500 font-medium",children:"@"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>j(e.target.value),placeholder:"username",autoFocus:!0,className:"w-full bg-[#141414] border border-[#262626] rounded-xl pl-9 pr-12 py-4 text-lg focus:border-[#0066FF] focus:outline-none"}),(0,a.jsxs)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl",children:[u&&(0,a.jsx)("span",{className:"text-neutral-500 text-sm",children:"..."}),!u&&!0===i&&(0,a.jsx)("span",{className:"text-[#00C853]",children:"✓"}),!u&&!1===i&&(0,a.jsx)("span",{className:"text-red-500",children:"✗"})]})]}),!1===i&&e.length>=3&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-2",children:"Username is taken"}),(0,a.jsx)("p",{className:"text-neutral-600 text-xs mt-2",children:"3–20 characters, letters, numbers, underscores only"})]}),h&&(0,a.jsx)("p",{className:"text-red-400 text-sm mb-4",children:h}),(0,a.jsx)("p",{className:"text-neutral-600 text-sm mb-8",children:"Your username is how others will find and follow you."})]}),(0,a.jsxs)("div",{className:"max-w-sm mx-auto w-full",children:[(0,a.jsx)("button",{onClick:w,disabled:!i||!s.trim()||d,className:"w-full py-4 rounded-xl font-bold text-lg transition-all ".concat(i&&s.trim()&&!d?"bg-[#0066FF] text-white hover:bg-[#0052CC]":"bg-[#141414] text-neutral-600 cursor-not-allowed border border-[#262626]"),children:d?"Saving...":"Continue"}),(0,a.jsx)("button",{onClick:()=>b.push("/onboarding"),className:"w-full py-3 text-neutral-600 text-sm mt-2",children:"Skip for now"})]})]})}}},function(e){e.O(0,[5321,2971,7023,1744],function(){return e(e.s=33303)}),_N_E=e.O()}]);