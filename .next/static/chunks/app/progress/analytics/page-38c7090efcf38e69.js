(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[242],{1203:function(e,t,s){Promise.resolve().then(s.bind(s,331))},331:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var r=s(7437),a=s(2265),l=s(6463),n=s(6856),i=s(7561),o=s(4142),c=s(2842),d=s(9542),x=s(560),h=s(9688),m=s(5974),u=s(9051),j=s(2566),f=s(4015),p=s(8979);function b(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}function k(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}function y(e){return e>=1e3?"".concat((e/1e3).toFixed(1),"k"):String(e)}function g(e){let{active:t,payload:s,label:a,unit:l}=e;return t&&s&&s.length?(0,r.jsxs)("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-xl px-3 py-2 text-xs",children:[(0,r.jsx)("p",{className:"text-neutral-400 mb-1",children:a}),s.map((e,t)=>(0,r.jsxs)("p",{className:"font-bold text-white",children:[e.name&&(0,r.jsxs)("span",{className:"text-neutral-400 mr-1",children:[e.name,":"]}),y(e.value)," ",l||"lbs"]},t))]}):null}function v(){let e=(0,l.useRouter)(),[t,s]=(0,a.useState)(null),[v,N]=(0,a.useState)(!0),[F,S]=(0,a.useState)("30");(0,a.useEffect)(()=>{N(!0),fetch("/api/progress/analytics?range=".concat(F)).then(e=>e.json()).then(e=>s(e)).catch(()=>{}).finally(()=>N(!1))},[F]);let w=t?Object.keys(t.strengthSeries):[],D=[];if(t){let e=new Set;for(let s of Object.values(t.strengthSeries))s.forEach(t=>e.add(t.date));for(let s of Array.from(e).sort()){let e={date:s};for(let[r,a]of Object.entries(t.strengthSeries)){let t=a.find(e=>e.date===s);t&&(e[r]=t.value)}D.push(e)}}let L=["#0066FF","#FFB300","#00C853"];return(0,r.jsxs)("main",{className:"min-h-screen bg-black text-white pb-28",children:[(0,r.jsxs)("header",{className:"px-6 pt-8 pb-4 flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>e.push("/progress"),className:"text-neutral-500 text-sm hover:text-white transition-colors",children:"â† Back"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs font-bold tracking-widest text-[#0066FF]",children:"FORC3"}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Analytics"})]})]}),(0,r.jsx)("div",{className:"px-6 mb-6",children:(0,r.jsx)("div",{className:"flex bg-[#141414] border border-[#262626] rounded-xl p-1 gap-1",children:[{key:"7",label:"7 Days"},{key:"30",label:"30 Days"},{key:"90",label:"90 Days"}].map(e=>(0,r.jsx)("button",{onClick:()=>S(e.key),className:"flex-1 py-2 rounded-lg text-sm font-medium transition-all ".concat(F===e.key?"bg-[#0066FF] text-white":"text-neutral-400 hover:text-white"),children:e.label},e.key))})}),v?(0,r.jsx)("div",{className:"flex justify-center py-16",children:(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):t&&0!==t.totalWorkouts?(0,r.jsxs)("div",{className:"px-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,r.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Workouts"}),(0,r.jsx)("div",{className:"text-3xl font-bold mt-1 text-[#0066FF]",children:t.totalWorkouts}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 mt-0.5",children:"in this period"})]}),(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,r.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Total Volume"}),(0,r.jsx)("div",{className:"text-3xl font-bold mt-1",children:t.totalVolume>=1e3?"".concat((t.totalVolume/1e3).toFixed(1),"k"):t.totalVolume}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 mt-0.5",children:"lbs lifted"})]})]}),t.volumeSeries.length>1&&(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,r.jsx)("h3",{className:"font-bold mb-4",children:"Daily Volume"}),(0,r.jsx)(n.h,{width:"100%",height:180,children:(0,r.jsxs)(i.T,{data:t.volumeSeries,margin:{top:0,right:0,left:-20,bottom:0},children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"volGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"5%",stopColor:"#0066FF",stopOpacity:.3}),(0,r.jsx)("stop",{offset:"95%",stopColor:"#0066FF",stopOpacity:0})]})}),(0,r.jsx)(o.q,{stroke:"#1a1a1a",strokeDasharray:"3 3"}),(0,r.jsx)(c.K,{dataKey:"date",tickFormatter:b,tick:{fill:"#666",fontSize:10},tickLine:!1,axisLine:!1,interval:"preserveStartEnd"}),(0,r.jsx)(d.B,{tickFormatter:y,tick:{fill:"#666",fontSize:10},tickLine:!1,axisLine:!1}),(0,r.jsx)(x.u,{content:(0,r.jsx)(g,{unit:"lbs"})}),(0,r.jsx)(h.uN,{type:"monotone",dataKey:"volume",stroke:"#0066FF",strokeWidth:2,fill:"url(#volGrad)"})]})})]}),t.weeklyFreq.length>1&&(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,r.jsx)("h3",{className:"font-bold mb-4",children:"Weekly Sessions"}),(0,r.jsx)(n.h,{width:"100%",height:150,children:(0,r.jsxs)(m.v,{data:t.weeklyFreq,margin:{top:0,right:0,left:-20,bottom:0},children:[(0,r.jsx)(o.q,{stroke:"#1a1a1a",strokeDasharray:"3 3"}),(0,r.jsx)(c.K,{dataKey:"week",tickFormatter:k,tick:{fill:"#666",fontSize:10},tickLine:!1,axisLine:!1,interval:"preserveStartEnd"}),(0,r.jsx)(d.B,{tick:{fill:"#666",fontSize:10},tickLine:!1,axisLine:!1,allowDecimals:!1}),(0,r.jsx)(x.u,{content:(0,r.jsx)(g,{unit:"sessions"})}),(0,r.jsx)(u.$Q,{dataKey:"count",fill:"#0066FF",radius:[4,4,0,0]})]})})]}),w.length>0&&(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,r.jsx)("h3",{className:"font-bold mb-1",children:"Strength Trends"}),(0,r.jsx)("p",{className:"text-xs text-neutral-500 mb-4",children:"Est. 1RM over time"}),(0,r.jsx)(n.h,{width:"100%",height:200,children:(0,r.jsxs)(j.w,{data:D,margin:{top:0,right:0,left:-20,bottom:0},children:[(0,r.jsx)(o.q,{stroke:"#1a1a1a",strokeDasharray:"3 3"}),(0,r.jsx)(c.K,{dataKey:"date",tickFormatter:b,tick:{fill:"#666",fontSize:10},tickLine:!1,axisLine:!1,interval:"preserveStartEnd"}),(0,r.jsx)(d.B,{tick:{fill:"#666",fontSize:10},tickLine:!1,axisLine:!1}),(0,r.jsx)(x.u,{content:(0,r.jsx)(g,{unit:"lbs"})}),(0,r.jsx)(f.D,{wrapperStyle:{fontSize:10,color:"#999"},iconType:"circle",iconSize:8}),w.map((e,t)=>(0,r.jsx)(p.x1,{type:"monotone",dataKey:e,stroke:L[t%L.length],strokeWidth:2,dot:{r:3,fill:L[t%L.length]},connectNulls:!0},e))]})})]})]}):(0,r.jsxs)("div",{className:"px-6 text-center py-16 space-y-3",children:[(0,r.jsx)("div",{className:"text-5xl",children:"\uD83D\uDCCA"}),(0,r.jsx)("p",{className:"font-semibold",children:"No data yet"}),(0,r.jsx)("p",{className:"text-sm text-neutral-500",children:"Complete some workouts to see your analytics."})]})]})}}},function(e){e.O(0,[81,344,388,971,23,744],function(){return e(e.s=1203)}),_N_E=e.O()}]);