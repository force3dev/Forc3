(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{2270:function(e,t,l){Promise.resolve().then(l.bind(l,1990))},1990:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return m}});var s=l(7437),a=l(2265),n=l(6463),r=l(6856),i=l(2566),o=l(4142),d=l(2842),c=l(9542),h=l(560),x=l(8979);let u=[{key:"weight",label:"Weight",unit:"lbs",color:"#0066FF"},{key:"bodyFat",label:"Body Fat",unit:"%",color:"#FFB300"},{key:"waist",label:"Waist",unit:"in",color:"#FF4444"},{key:"chest",label:"Chest",unit:"in",color:"#00C853"},{key:"hips",label:"Hips",unit:"in",color:"#9C27B0"},{key:"leftArm",label:"Arm",unit:"in",color:"#FF6B35"}];function m(){var e;let t=(0,n.useRouter)(),[l,m]=(0,a.useState)([]),[b,y]=(0,a.useState)(!0),[f,p]=(0,a.useState)(!1),[g,j]=(0,a.useState)(!1),[k,v]=(0,a.useState)("weight"),[N,w]=(0,a.useState)({weight:"",bodyFat:"",chest:"",waist:"",hips:"",neck:"",leftArm:"",rightArm:"",leftThigh:"",rightThigh:"",notes:""});async function F(){try{let e=await fetch("/api/progress/measurements");if(e.ok){let t=await e.json();m(t.measurements||[])}}finally{y(!1)}}async function C(e){e.preventDefault(),j(!0);try{await fetch("/api/progress/measurements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),w({weight:"",bodyFat:"",chest:"",waist:"",hips:"",neck:"",leftArm:"",rightArm:"",leftThigh:"",rightThigh:"",notes:""}),p(!1),F()}finally{j(!1)}}(0,a.useEffect)(()=>{F()},[]);let S=[...l].reverse().filter(e=>null!==e[k]&&void 0!==e[k]).map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),value:e[k]})),T=u.find(e=>e.key===k)||u[0],A=l[0],D=l[1];function L(e){if(!A||!D)return null;let t=A[e],l=D[e];return void 0===t||void 0===l||null===t||null===l?null:t-l}return(0,s.jsxs)("main",{className:"min-h-screen bg-black text-white pb-10",children:[(0,s.jsxs)("header",{className:"px-6 pt-8 pb-4 flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>t.back(),className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#1a1a1a] text-neutral-400 hover:text-white",children:"←"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:"Body Measurements"}),(0,s.jsx)("p",{className:"text-sm text-neutral-500",children:"Track your physical changes"})]})]}),(0,s.jsxs)("div",{className:"px-6 space-y-5",children:[l.length>1&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:u.map(e=>(0,s.jsx)("button",{onClick:()=>v(e.key),className:"flex-shrink-0 px-3 py-1.5 rounded-xl text-sm font-semibold transition-all ".concat(k===e.key?"text-white":"bg-[#1a1a1a] text-neutral-400"),style:k===e.key?{backgroundColor:e.color}:{},children:e.label},e.key))}),(0,s.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4 mt-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-lg font-bold",children:T.label}),(null==A?void 0:A[k])!==void 0&&(0,s.jsxs)("span",{className:"ml-2 text-2xl font-bold tabular-nums",style:{color:T.color},children:[A[k],T.unit]})]}),null!==L(k)&&(0,s.jsxs)("div",{className:"text-sm font-bold ".concat(0>L(k)?"text-[#00C853]":"text-red-400"),children:[L(k)>0?"+":"",null===(e=L(k))||void 0===e?void 0:e.toFixed(1),T.unit]})]}),S.length>1?(0,s.jsx)(r.h,{width:"100%",height:160,children:(0,s.jsxs)(i.w,{data:S,children:[(0,s.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#1a1a1a"}),(0,s.jsx)(d.K,{dataKey:"date",tick:{fill:"#666",fontSize:10}}),(0,s.jsx)(c.B,{tick:{fill:"#666",fontSize:10},domain:["auto","auto"]}),(0,s.jsx)(h.u,{contentStyle:{background:"#141414",border:"1px solid #262626",borderRadius:8},labelStyle:{color:"#999"}}),(0,s.jsx)(x.x1,{type:"monotone",dataKey:"value",stroke:T.color,strokeWidth:2,dot:{fill:T.color,r:3}})]})}):(0,s.jsx)("p",{className:"text-sm text-neutral-500 text-center py-4",children:"Add more entries to see the trend"})]})]}),A&&(0,s.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-neutral-400 mb-3",children:["Latest — ",new Date(A.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-3",children:u.filter(e=>void 0!==A[e.key]&&null!==A[e.key]).map(e=>(0,s.jsxs)("div",{className:"bg-[#0a0a0a] rounded-xl p-3",children:[(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:e.label}),(0,s.jsxs)("div",{className:"font-bold tabular-nums",style:{color:e.color},children:[A[e.key],e.unit]})]},e.key))})]}),f?(0,s.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"font-bold",children:"Log Today"}),(0,s.jsx)("button",{onClick:()=>p(!1),className:"text-neutral-500",children:"✕"})]}),(0,s.jsxs)("form",{onSubmit:C,className:"space-y-3",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{key:"weight",label:"Weight (lbs)"},{key:"bodyFat",label:"Body Fat (%)"},{key:"chest",label:"Chest (in)"},{key:"waist",label:"Waist (in)"},{key:"hips",label:"Hips (in)"},{key:"neck",label:"Neck (in)"},{key:"leftArm",label:"Left Arm (in)"},{key:"rightArm",label:"Right Arm (in)"},{key:"leftThigh",label:"Left Thigh (in)"},{key:"rightThigh",label:"Right Thigh (in)"}].map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-neutral-400",children:e.label}),(0,s.jsx)("input",{type:"number",step:"0.1",value:N[e.key],onChange:t=>w(l=>({...l,[e.key]:t.target.value})),placeholder:"—",className:"mt-1 w-full p-2.5 bg-[#0a0a0a] border border-[#262626] rounded-xl focus:border-[#0066FF] focus:outline-none text-sm"})]},e.key))}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs text-neutral-400",children:"Notes"}),(0,s.jsx)("input",{type:"text",value:N.notes,onChange:e=>w(t=>({...t,notes:e.target.value})),placeholder:"Optional note",className:"mt-1 w-full p-2.5 bg-[#0a0a0a] border border-[#262626] rounded-xl focus:border-[#0066FF] focus:outline-none text-sm"})]}),(0,s.jsx)("button",{type:"submit",disabled:g,className:"w-full py-3 font-bold rounded-xl transition-all ".concat(g?"bg-neutral-800 text-neutral-500":"bg-[#0066FF] text-white hover:bg-[#0052CC]"),children:g?"Saving...":"Save Measurements"})]})]}):(0,s.jsx)("button",{onClick:()=>p(!0),className:"w-full py-4 bg-[#0066FF] text-white font-bold rounded-2xl hover:bg-[#0052CC] transition-colors",children:"+ Log Measurements"}),b?(0,s.jsx)("div",{className:"flex justify-center py-6",children:(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):0===l.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center bg-[#141414] border border-[#262626] rounded-2xl",children:[(0,s.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDCCF"}),(0,s.jsx)("p",{className:"font-semibold text-neutral-300",children:"No measurements yet"}),(0,s.jsx)("p",{className:"text-sm text-neutral-500 mt-1",children:"Tap Log Measurements to get started"})]}):(0,s.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"px-5 py-3 border-b border-[#262626]",children:(0,s.jsx)("h3",{className:"text-sm font-semibold text-neutral-300",children:"History"})}),(0,s.jsx)("div",{className:"divide-y divide-[#1a1a1a]",children:l.slice(0,20).map(e=>(0,s.jsxs)("div",{className:"px-5 py-3",children:[(0,s.jsx)("div",{className:"text-xs text-neutral-500 mb-2",children:new Date(e.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}),(0,s.jsx)("div",{className:"flex flex-wrap gap-3",children:u.filter(t=>void 0!==e[t.key]&&null!==e[t.key]).map(t=>(0,s.jsxs)("span",{className:"text-sm",children:[(0,s.jsxs)("span",{className:"text-neutral-400",children:[t.label,": "]}),(0,s.jsxs)("span",{className:"font-semibold",style:{color:t.color},children:[e[t.key],t.unit]})]},t.key))})]},e.id))})]})]})]})}}},function(e){e.O(0,[81,344,971,23,744],function(){return e(e.s=2270)}),_N_E=e.O()}]);