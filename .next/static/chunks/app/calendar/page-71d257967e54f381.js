(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5329],{68304:function(e,t,s){Promise.resolve().then(s.bind(s,79290))},16463:function(e,t,s){"use strict";var a=s(71169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},79290:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(57437),n=s(2265),r=s(16463),l=s(32371);let c={running:"\uD83C\uDFC3",cycling:"\uD83D\uDEB4",swimming:"\uD83C\uDFCA",hiit:"⚡",rowing:"\uD83D\uDEA3",jump_rope:"\uD83E\uDEA2",walking:"\uD83D\uDEB6",run:"\uD83C\uDFC3",bike:"\uD83D\uDEB4",swim:"\uD83C\uDFCA"},i={easy:"#22c55e",moderate:"#f59e0b",hard:"#ef4444",max:"#a855f7"};function o(){let e=(0,r.useRouter)(),[t,s]=(0,n.useState)("week"),[c,i]=(0,n.useState)(null),[o,m]=(0,n.useState)([]),[h,p]=(0,n.useState)(!0),[f,g]=(0,n.useState)(()=>{let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"))}),j=(0,n.useCallback)(async e=>{p(!0);try{let t=await fetch("/api/calendar?month=".concat(e)),s=await t.json();m(s.days||[])}catch(e){m([])}finally{p(!1)}},[]);(0,n.useEffect)(()=>{j(f)},[f,j]);let b=new Date,v=new Date(b);v.setDate(b.getDate()-b.getDay());let N=Array.from({length:7},(e,t)=>{let s=new Date(v);return s.setDate(v.getDate()+t),s.toISOString().slice(0,10)}),y=o.filter(e=>N.includes(e.date)),w=new Date("".concat(f,"-01")).toLocaleDateString("en-US",{month:"long",year:"numeric"}),D=new Date("".concat(f,"-01")).getDay();return(0,a.jsxs)("main",{className:"min-h-screen bg-black text-white pb-28",children:[(0,a.jsxs)("header",{className:"px-5 pt-8 pb-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Training Calendar"}),(0,a.jsx)("div",{className:"flex bg-[#141414] rounded-xl p-1 gap-1 mt-3",children:["week","month"].map(e=>(0,a.jsx)("button",{onClick:()=>s(e),className:"flex-1 py-2 text-sm font-medium rounded-lg capitalize transition-colors ".concat(t===e?"bg-[#0066FF] text-white":"text-neutral-400"),children:e},e))}),"month"===t&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsx)("button",{onClick:function(){let[e,t]=f.split("-").map(Number);g(1===t?"".concat(e-1,"-12"):"".concat(e,"-").concat(String(t-1).padStart(2,"0")))},className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#1a1a1a] text-neutral-400",children:"←"}),(0,a.jsx)("span",{className:"font-semibold text-sm",children:w}),(0,a.jsx)("button",{onClick:function(){let[e,t]=f.split("-").map(Number);g(12===t?"".concat(e+1,"-01"):"".concat(e,"-").concat(String(t+1).padStart(2,"0")))},className:"w-8 h-8 flex items-center justify-center rounded-full bg-[#1a1a1a] text-neutral-400",children:"→"})]})]}),h?(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):"week"===t?(0,a.jsx)(d,{days:y,onSelect:i}):(0,a.jsx)(u,{days:o,firstDayOffset:D,onSelect:i}),c&&(0,a.jsx)(x,{day:c,onClose:()=>i(null),onNavigate:t=>{i(null),e.push(t)}}),(0,a.jsx)(l.Z,{active:"workout"})]})}function d(e){let{days:t,onSelect:s}=e;return(0,a.jsxs)("div",{className:"px-4 grid grid-cols-7 gap-1.5",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,a.jsx)("div",{className:"text-center text-[10px] text-neutral-600 font-medium py-1",children:e},e)),t.map(e=>(0,a.jsxs)("button",{onClick:()=>s(e),className:"flex flex-col items-center gap-1 py-2",children:[(0,a.jsx)("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-sm font-semibold relative",style:{border:"2px solid ".concat(e.completed?"#22c55e":e.isPast&&"rest"!==e.type&&"active_recovery"!==e.type?"#ef4444":e.isToday?"#0066FF":"transparent"),background:e.isToday?"#0066FF20":"transparent",color:e.isToday?"#0066FF":"#fff"},children:e.dayNumber}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-center gap-0.5",children:[e.strength&&(0,a.jsx)("span",{className:"text-xs",children:"\uD83D\uDCAA"}),e.cardio&&(0,a.jsx)("span",{className:"text-xs",children:c[e.cardio.type]||"\uD83C\uDFC3"}),"rest"===e.type&&(0,a.jsx)("span",{className:"text-xs",children:"\uD83D\uDE34"}),"active_recovery"===e.type&&(0,a.jsx)("span",{className:"text-xs",children:"\uD83E\uDDD8"})]})]},e.date))]})}function u(e){let{days:t,firstDayOffset:s,onSelect:n}=e;return(0,a.jsxs)("div",{className:"px-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-7 mb-1",children:["S","M","T","W","T","F","S"].map((e,t)=>(0,a.jsx)("div",{className:"text-center text-[10px] text-neutral-600 font-medium py-1",children:e},t))}),(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-0.5",children:[Array.from({length:s}).map((e,t)=>(0,a.jsx)("div",{className:"aspect-square"},"empty-".concat(t))),t.map(e=>(0,a.jsxs)("button",{onClick:()=>n(e),className:"aspect-square rounded-lg flex flex-col items-center justify-center gap-0.5 relative transition-colors ".concat(e.isToday?"bg-[#0066FF20] border border-[#0066FF40]":"hover:bg-[#1a1a1a]"),children:[(0,a.jsx)("span",{className:"text-xs font-semibold ".concat(e.isToday?"text-[#0066FF]":"text-white"),children:e.dayNumber}),(0,a.jsxs)("div",{className:"flex gap-0.5",children:[e.strength&&(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[#22c55e]"}),e.cardio&&(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[#3b82f6]"}),("rest"===e.type||"active_recovery"===e.type)&&!e.strength&&!e.cardio&&(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-[#6b7280]"})]}),e.completed&&(0,a.jsx)("span",{className:"absolute top-0.5 right-0.5 w-1.5 h-1.5 rounded-full bg-[#22c55e]"})]},e.date))]}),(0,a.jsxs)("div",{className:"flex gap-4 mt-4 px-2 justify-center",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-neutral-500",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-[#22c55e]"})," Strength"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-neutral-500",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-[#3b82f6]"})," Cardio"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-xs text-neutral-500",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-[#6b7280]"})," Rest"]})]})]})}function x(e){var t,s;let{day:n,onClose:r,onNavigate:l}=e,o=new Date("".concat(n.date,"T12:00:00")).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}).toUpperCase(),d=((null===(t=n.strength)||void 0===t?void 0:t.estimatedDuration)||0)+((null===(s=n.cardio)||void 0===s?void 0:s.duration)||0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/70 z-40",onClick:r}),(0,a.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-[#141414] rounded-t-3xl p-6 pb-10 max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"w-10 h-1 bg-[#333] rounded-full mx-auto mb-5"}),(0,a.jsx)("p",{className:"text-xs text-neutral-500 font-semibold tracking-widest mb-4",children:o}),("rest"===n.type||"active_recovery"===n.type)&&!n.strength&&!n.cardio&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"text-4xl text-center mb-2",children:"rest"===n.type?"\uD83D\uDE34":"\uD83E\uDDD8"}),(0,a.jsx)("h2",{className:"text-xl font-bold text-center",children:"rest"===n.type?"Rest Day":"Active Recovery"}),(0,a.jsx)("p",{className:"text-neutral-400 text-sm text-center leading-relaxed",children:"rest"===n.type?"Take it easy today. Your body gets stronger when it rests.":"Light movement only. Easy walk, stretching, or foam rolling."}),(0,a.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 mt-2",children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 mb-2",children:"Suggestions"}),(0,a.jsx)("p",{className:"text-sm text-neutral-300",children:"Easy walk \xb7 Stretching \xb7 Foam rolling \xb7 Yoga"})]})]}),n.strength&&(0,a.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("span",{className:"text-xl",children:"\uD83D\uDCAA"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 uppercase tracking-widest",children:"Strength"}),(0,a.jsx)("p",{className:"font-semibold",children:n.strength.focus||n.strength.name})]}),n.strength.completed&&(0,a.jsx)("span",{className:"ml-auto text-[#22c55e] text-xs font-semibold",children:"✓ Done"})]}),(0,a.jsxs)("div",{className:"flex gap-3 text-xs text-neutral-500 mb-3",children:[n.strength.exerciseCount>0&&(0,a.jsxs)("span",{children:[n.strength.exerciseCount," exercises"]}),(0,a.jsxs)("span",{children:["~",n.strength.estimatedDuration," min"]})]}),n.strength.workoutId&&(0,a.jsx)("button",{onClick:()=>l("/workout/".concat(n.strength.workoutId)),className:"w-full py-2.5 bg-[#0066FF] rounded-xl text-sm font-semibold",children:n.strength.logId?"View Workout →":"Start Workout →"})]}),n.cardio&&(0,a.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("span",{className:"text-xl",children:c[n.cardio.type]||"\uD83C\uDFC3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-neutral-500 uppercase tracking-widest",children:"Cardio"}),(0,a.jsx)("p",{className:"font-semibold capitalize",children:n.cardio.title})]}),n.cardio.completed&&(0,a.jsx)("span",{className:"ml-auto text-[#22c55e] text-xs font-semibold",children:"✓ Done"})]}),(0,a.jsxs)("div",{className:"flex gap-3 text-xs mb-3",children:[(0,a.jsxs)("span",{className:"text-neutral-500",children:[n.cardio.duration," min"]}),(0,a.jsx)("span",{className:"font-medium capitalize",style:{color:i[n.cardio.intensity]||"#fff"},children:n.cardio.intensity})]}),(0,a.jsx)("button",{onClick:()=>l("/workout/cardio"),className:"w-full py-2.5 bg-[#1a1a1a] border border-[#262626] rounded-xl text-sm font-medium text-neutral-300",children:"View Workout →"})]}),d>0&&(0,a.jsx)("div",{className:"border-t border-[#262626] pt-3 mt-2",children:(0,a.jsxs)("p",{className:"text-xs text-neutral-500 text-center",children:["Total: ~",d," min training today"]})})]})]})}},32371:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var a=s(57437),n=s(87138),r=s(16463),l=s(2265);let c=[{id:"home",label:"Home",href:"/home",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"discover",label:"Discover",href:"/discover",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},{id:"workout",label:"Workout",href:"/workout",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h2m0 0V4m0 2v2M3 6h18m-2 0V4m0 2v2m0-2h2M5 8h14m-7 4v4m0-4H9m3 0h3"})})},{id:"coach",label:"Coach",href:"/coach",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})},{id:"profile",label:"Profile",href:"/profile",icon:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],i=["home","discover","workout","coach","profile"];function o(e){let{active:t}=e,s=(0,r.useRouter)(),o=i.indexOf(t);return!function(e){let{onSwipeLeft:t,onSwipeRight:s,threshold:a=60}=e,n=(0,l.useRef)(null),r=(0,l.useRef)(null);(0,l.useEffect)(()=>{function e(e){n.current=e.touches[0].clientX,r.current=e.touches[0].clientY}function l(e){if(null===n.current||null===r.current)return;let l=e.changedTouches[0].clientX-n.current;Math.abs(l)>Math.abs(e.changedTouches[0].clientY-r.current)&&Math.abs(l)>a&&(l<0?null==t||t():null==s||s()),n.current=null,r.current=null}return document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("touchend",l,{passive:!0}),()=>{document.removeEventListener("touchstart",e),document.removeEventListener("touchend",l)}},[t,s,a])}({onSwipeLeft:()=>{o<i.length-1&&s.push(c.find(e=>e.id===i[o+1]).href)},onSwipeRight:()=>{o>0&&s.push(c.find(e=>e.id===i[o-1]).href)}}),(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-[#1a1a1a] px-2 py-2 safe-area-inset-bottom z-40",children:(0,a.jsx)("div",{className:"flex items-center justify-around max-w-lg mx-auto",children:c.map(e=>(0,a.jsxs)(n.default,{href:e.href,className:"flex flex-col items-center gap-1 py-1.5 px-3 rounded-xl transition-colors ".concat(t===e.id?"text-[#0066FF]":"text-[#666666] hover:text-neutral-300"),children:[e.icon,(0,a.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.id))})})}}},function(e){e.O(0,[7138,2971,7023,1744],function(){return e(e.s=68304)}),_N_E=e.O()}]);