(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3841],{2198:function(e,t,s){Promise.resolve().then(s.bind(s,17173))},16463:function(e,t,s){"use strict";var l=s(71169);s.o(l,"useParams")&&s.d(t,{useParams:function(){return l.useParams}}),s.o(l,"useRouter")&&s.d(t,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(t,{useSearchParams:function(){return l.useSearchParams}})},17173:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var l=s(57437),a=s(2265),n=s(16463),r=s(8837);function i(e){let{params:t}=e,s=(0,n.useRouter)(),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[x,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{fetch("/api/social/user?username=".concat(encodeURIComponent(t.username))).then(e=>e.json()).then(e=>{o(e),d(!1)}).catch(()=>d(!1))},[t.username]);let m=async()=>{if(i&&!x){if(u(!0),i.isFollowing)await fetch("/api/social/follow",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i.user.id})}),o(e=>e?{...e,isFollowing:!1}:e);else{let e=await fetch("/api/social/follow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:i.user.id})}),t=await e.json();o(e=>e?{...e,isFollowing:"following"===t.status,isPending:"pending"===t.status}:e)}u(!1)}},h=async e=>{let t=await fetch("/api/social/copy-workout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sharedWorkoutId:e})});if(t.ok){let e=await t.json();s.push("/workout/edit/".concat(e.workoutId))}};if(c)return(0,l.jsx)("main",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-8 h-8 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})});if(!i||i.isBlocked)return(0,l.jsxs)("main",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-6",children:[(0,l.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDEAB"}),(0,l.jsx)("h2",{className:"font-bold text-lg mb-2",children:"User not available"}),(0,l.jsx)("button",{onClick:()=>s.back(),className:"text-[#0066FF] text-sm mt-4",children:"← Go back"})]});let{user:f,isFollowing:b,isPending:p,sharedWorkouts:j}=i,N=!f.isPrivate||b;return(0,l.jsxs)("main",{className:"min-h-screen bg-black text-white pb-8",children:[(0,l.jsx)("header",{className:"flex items-center gap-3 px-5 pt-8 pb-4",children:(0,l.jsx)("button",{onClick:()=>s.back(),className:"text-neutral-400 text-sm",children:"← Back"})}),(0,l.jsxs)("div",{className:"px-5 pb-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,l.jsx)(r.Z,{user:{avatarUrl:f.avatarUrl,name:f.displayName||f.username||"Athlete"},size:"xl"}),(0,l.jsxs)("div",{className:"flex gap-6",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-xl font-bold",children:f.followers}),(0,l.jsx)("div",{className:"text-xs text-neutral-500",children:"Followers"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-xl font-bold",children:f.following}),(0,l.jsx)("div",{className:"text-xs text-neutral-500",children:"Following"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-xl font-bold",children:f.workouts}),(0,l.jsx)("div",{className:"text-xs text-neutral-500",children:"Workouts"})]})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h2",{className:"font-bold text-lg",children:f.displayName||f.username}),f.username&&(0,l.jsxs)("p",{className:"text-neutral-500 text-sm",children:["@",f.username]}),f.bio&&(0,l.jsx)("p",{className:"text-sm mt-2 text-neutral-300",children:f.bio})]}),(0,l.jsx)("div",{className:"flex gap-2",children:b?(0,l.jsx)("button",{onClick:m,disabled:x,className:"flex-1 py-2.5 border border-[#262626] rounded-xl font-semibold text-sm transition-colors hover:border-neutral-500",children:"Following"}):p?(0,l.jsx)("button",{disabled:!0,className:"flex-1 py-2.5 border border-[#262626] rounded-xl font-semibold text-sm text-neutral-500 cursor-not-allowed",children:"Requested"}):(0,l.jsxs)("button",{onClick:m,disabled:x,className:"flex-1 py-2.5 bg-[#0066FF] rounded-xl font-semibold text-sm hover:bg-[#0052CC] transition-colors",children:["Follow",(f.isPrivate,"")]})})]}),(0,l.jsxs)("div",{className:"px-5",children:[(0,l.jsx)("h3",{className:"text-xs text-neutral-500 uppercase tracking-wide font-semibold mb-3",children:"Shared Workouts"}),N?0===j.length?(0,l.jsxs)("div",{className:"text-center py-12 text-neutral-500 text-sm",children:[(0,l.jsx)("div",{className:"text-3xl mb-3",children:"\uD83C\uDFCB️"}),(0,l.jsx)("p",{children:"No shared workouts yet."})]}):(0,l.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,l.jsx)("h4",{className:"font-bold",children:e.title||e.workout.name}),e.description&&(0,l.jsx)("p",{className:"text-neutral-500 text-xs mt-1 line-clamp-2",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,l.jsxs)("div",{className:"flex gap-3 text-xs text-neutral-500",children:[(0,l.jsxs)("span",{children:["❤️ ",e._count.likes]}),(0,l.jsxs)("span",{children:["\uD83D\uDCCB ",e._count.copies," copies"]})]}),(0,l.jsx)("button",{onClick:()=>h(e.id),className:"px-3 py-1.5 bg-[#0066FF]/20 text-[#0066FF] rounded-lg text-xs font-semibold hover:bg-[#0066FF]/30 transition-colors",children:"Copy Workout"})]})]},e.id))}):(0,l.jsxs)("div",{className:"text-center py-12 text-neutral-500 text-sm",children:[(0,l.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDD12"}),(0,l.jsx)("p",{children:"This account is private."}),(0,l.jsx)("p",{className:"mt-1",children:"Follow to see their workouts."})]})]})]})}},8837:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var l=s(57437);let a={xs:"w-6 h-6 text-[10px]",sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-xl",xl:"w-24 h-24 text-3xl"};function n(e){let{user:t,size:s="md",className:n=""}=e,r=t.name||"Athlete",i="rounded-full overflow-hidden border border-white/15 flex items-center justify-center font-semibold ".concat(a[s]," ").concat(n);return t.avatarUrl?(0,l.jsx)("div",{className:i,children:(0,l.jsx)("img",{src:t.avatarUrl,alt:r,className:"w-full h-full object-cover"})}):(0,l.jsx)("div",{className:i,style:{backgroundColor:function(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s);let s=["#14532d","#1d4ed8","#7c2d12","#4c1d95","#0f766e","#9a3412"];return s[Math.abs(t)%s.length]}(r)},children:function(e){let t=e.trim().split(/\s+/).filter(Boolean);return t.length<=1?(t[0]||"?").slice(0,2).toUpperCase():(t[0][0]+t[1][0]).toUpperCase()}(r)})}}},function(e){e.O(0,[2971,7023,1744],function(){return e(e.s=2198)}),_N_E=e.O()}]);