(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4121,3820],{18205:function(e,t,s){Promise.resolve().then(s.bind(s,41927))},16463:function(e,t,s){"use strict";var a=s(71169);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8837:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var a=s(57437);let r={xs:"w-6 h-6 text-[10px]",sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-xl",xl:"w-24 h-24 text-3xl"};function n(e){let{user:t,size:s="md",className:n=""}=e,l=t.name||"Athlete",o="rounded-full overflow-hidden border border-white/15 flex items-center justify-center font-semibold ".concat(r[s]," ").concat(n);return t.avatarUrl?(0,a.jsx)("div",{className:o,children:(0,a.jsx)("img",{src:t.avatarUrl,alt:l,className:"w-full h-full object-cover"})}):(0,a.jsx)("div",{className:o,style:{backgroundColor:function(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s);let s=["#14532d","#1d4ed8","#7c2d12","#4c1d95","#0f766e","#9a3412"];return s[Math.abs(t)%s.length]}(l)},children:function(e){let t=e.trim().split(/\s+/).filter(Boolean);return t.length<=1?(t[0]||"?").slice(0,2).toUpperCase():(t[0][0]+t[1][0]).toUpperCase()}(l)})}},41927:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var a=s(57437),r=s(2265),n=s(87138),l=s(16463),o=s(8837);function c(e){let{userId:t,mode:s}=e,c=(0,l.useRouter)(),[i,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(!0),[x,f]=(0,r.useState)(0),[h,p]=(0,r.useState)([]);async function b(e,t){await fetch("/api/social/follow",{method:t?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetUserId:e})}),p(s=>s.map(s=>s.id===e?{...s,isFollowing:!t}:s))}(0,r.useEffect)(()=>{m(!0),fetch("/api/social/".concat(s,"/").concat(t)).then(e=>e.json()).then(e=>{p(e.items||[]),f(e.total||0)}).finally(()=>m(!1))},[s,t]);let w=(0,r.useMemo)(()=>{let e=i.trim().toLowerCase();return e?h.filter(t=>t.name.toLowerCase().includes(e)||(t.username||"").toLowerCase().includes(e)):h},[h,i]),j="followers"===s?"Followers":"Following";return(0,a.jsxs)("main",{className:"min-h-screen bg-black text-white pb-6",children:[(0,a.jsxs)("header",{className:"px-5 pt-8 pb-4",children:[(0,a.jsx)("button",{onClick:()=>c.back(),className:"text-sm text-neutral-400",children:"â† Back to Profile"}),(0,a.jsxs)("h1",{className:"mt-3 text-xl font-bold uppercase",children:[j," (",x,")"]})]}),(0,a.jsx)("div",{className:"px-5",children:(0,a.jsx)("input",{value:i,onChange:e=>u(e.target.value),placeholder:"Search ".concat(j.toLowerCase(),"..."),className:"w-full bg-[#141414] border border-[#262626] rounded-xl px-3 py-2.5 text-sm focus:outline-none focus:border-[#0066FF]"})}),d?(0,a.jsx)("div",{className:"py-10 flex justify-center",children:(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):(0,a.jsxs)("div",{className:"px-5 mt-4 space-y-3",children:[w.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 bg-[#141414] border border-[#262626] rounded-xl p-3",children:[(0,a.jsxs)(n.default,{href:"/profile/".concat(e.id),className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,a.jsx)(o.Z,{user:{avatarUrl:e.avatarUrl,name:e.name},size:"md"}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-semibold truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-neutral-500 truncate",children:["@",e.username||"athlete"," \xb7 Level ",e.level," \xb7 \uD83D\uDD25 ",e.streak," streak"]})]})]}),(0,a.jsx)("button",{onClick:()=>b(e.id,e.isFollowing),className:"px-3 py-1.5 rounded-lg text-xs font-semibold border ".concat(e.isFollowing?"bg-[#1a1a1a] border-[#303030] text-neutral-200":"bg-[#0066FF] border-[#0066FF] text-white"),children:e.isFollowing?"Following":"Follow"})]},e.id)),0===w.length&&(0,a.jsx)("p",{className:"text-sm text-neutral-500 py-8 text-center",children:"No users found."})]})]})}}},function(e){e.O(0,[7138,2971,7023,1744],function(){return e(e.s=18205)}),_N_E=e.O()}]);