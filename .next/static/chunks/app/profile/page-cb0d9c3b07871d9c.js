(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{59217:function(e,t,l){Promise.resolve().then(l.bind(l,70529))},16463:function(e,t,l){"use strict";var s=l(71169);l.o(s,"useParams")&&l.d(t,{useParams:function(){return s.useParams}}),l.o(s,"useRouter")&&l.d(t,{useRouter:function(){return s.useRouter}}),l.o(s,"useSearchParams")&&l.d(t,{useSearchParams:function(){return s.useSearchParams}})},70529:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return x}});var s=l(57437),a=l(2265),r=l(16463),n=l(87138),o=l(32371),i=l(8837);let c={fat_loss:"Fat Loss",muscle_gain:"Build Muscle",strength:"Get Stronger",endurance:"Improve Endurance",general:"General Fitness"};function d(e){let{count:t}=e,[l,r]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{fetch("/api/workouts/log?limit=20").then(e=>e.ok?e.json():{logs:[]}).then(e=>r(e.logs||[])).catch(()=>{}).finally(()=>i(!1))},[]),o)?(0,s.jsx)("div",{className:"flex justify-center py-10",children:(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):0===l.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-4xl mb-3",children:"\uD83D\uDCAA"}),(0,s.jsx)("p",{className:"text-neutral-500 text-sm",children:"No workouts logged yet"}),(0,s.jsx)(n.default,{href:"/workout",className:"text-[#0066FF] text-sm mt-2 inline-block",children:"Start training →"})]}):(0,s.jsx)("div",{className:"p-4 space-y-3",children:l.map(e=>(0,s.jsx)("div",{className:"bg-[#141414] border border-[#262626] rounded-xl p-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-sm",children:e.workout.name}),(0,s.jsx)("p",{className:"text-xs text-neutral-500 mt-0.5",children:new Date(e.startedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]}),(0,s.jsxs)("div",{className:"text-right",children:[null!=e.duration&&e.duration>0&&(0,s.jsxs)("div",{className:"text-xs text-neutral-400",children:[e.duration," min"]}),null!=e.totalVolume&&e.totalVolume>0&&(0,s.jsxs)("div",{className:"text-xs text-neutral-500",children:[Math.round(e.totalVolume).toLocaleString()," lbs"]})]})]})},e.id))})}function u(e){let{data:t}=e,l=t.profile,a=(null==l?void 0:l.unitSystem)!=="metric",r=(null==l?void 0:l.weight)?a?"".concat(Math.round(2.2046*l.weight)," lbs"):"".concat(Math.round(l.weight)," kg"):null,o=(null==l?void 0:l.height)?a?function(e){let t=e/2.54;return"".concat(Math.floor(t/12),"'").concat(Math.round(t%12),'"')}(l.height):"".concat(Math.round(l.height)," cm"):null;return(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[l&&(0,s.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4 space-y-3",children:[(0,s.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Training"}),[{label:"Goal",value:l.goal?c[l.goal]||l.goal:null},{label:"Experience",value:l.experienceLevel},{label:"Training Days",value:l.trainingDays?"".concat(l.trainingDays,"x / week"):null}].filter(e=>e.value).map(e=>(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-neutral-500",children:e.label}),(0,s.jsx)("span",{className:"font-medium",children:e.value})]},e.label))]}),l&&(l.weight||l.height||l.age)&&(0,s.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4 space-y-3",children:[(0,s.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Body"}),[{label:"Age",value:l.age?"".concat(l.age," years"):null},{label:"Weight",value:r},{label:"Height",value:o}].filter(e=>e.value).map(e=>(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-neutral-500",children:e.label}),(0,s.jsx)("span",{className:"font-medium",children:e.value})]},e.label))]}),(null==l?void 0:l.targetCalories)&&(0,s.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4",children:[(0,s.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-3",children:"Daily Targets"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Calories",value:"".concat(Math.round(l.targetCalories)," kcal"),color:"text-[#0066FF]"},{label:"Protein",value:"".concat(Math.round(l.targetProtein),"g"),color:"text-[#00C853]"},{label:"Carbs",value:"".concat(Math.round(l.targetCarbs),"g"),color:"text-white"},{label:"Fat",value:"".concat(Math.round(l.targetFat),"g"),color:"text-[#FFB300]"}].map(e=>(0,s.jsxs)("div",{className:"bg-[#0a0a0a] rounded-xl p-3",children:[(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:e.label}),(0,s.jsx)("div",{className:"text-lg font-bold mt-0.5 ".concat(e.color),children:e.value})]},e.label))})]}),(0,s.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl overflow-hidden",children:[(0,s.jsxs)(n.default,{href:"/profile/edit",className:"flex items-center justify-between px-5 py-4 border-b border-[#1a1a1a] hover:bg-[#1a1a1a] transition-colors",children:[(0,s.jsx)("span",{className:"text-sm",children:"Edit Profile"}),(0,s.jsx)("span",{className:"text-neutral-500",children:"→"})]}),(0,s.jsxs)(n.default,{href:"/settings",className:"flex items-center justify-between px-5 py-4 border-b border-[#1a1a1a] hover:bg-[#1a1a1a] transition-colors",children:[(0,s.jsx)("span",{className:"text-sm",children:"Settings"}),(0,s.jsx)("span",{className:"text-neutral-500",children:"→"})]}),(0,s.jsxs)(n.default,{href:"/progress",className:"flex items-center justify-between px-5 py-4 border-b border-[#1a1a1a] hover:bg-[#1a1a1a] transition-colors",children:[(0,s.jsx)("span",{className:"text-sm",children:"Personal Records"}),(0,s.jsx)("span",{className:"text-neutral-500",children:"→"})]})]})]})}function x(){var e,t,l,x,h,m,f,v,b;let j=(0,r.useRouter)(),[p,g]=(0,a.useState)(null),[N,w]=(0,a.useState)(!0),[k,y]=(0,a.useState)("workouts");async function C(){await fetch("/api/auth/logout",{method:"POST"}),j.push("/")}async function M(){let e="".concat(window.location.origin,"/user/").concat(null==p?void 0:p.username);navigator.share?await navigator.share({title:"".concat(null==p?void 0:p.displayName," on FORC3"),url:e}):(await navigator.clipboard.writeText(e),alert("Profile link copied!"))}if((0,a.useEffect)(()=>{fetch("/api/user/profile").then(e=>e.json()).then(g).catch(()=>{}).finally(()=>w(!1))},[]),N)return(0,s.jsx)("main",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})});let F=null==p?void 0:p.profile;return(0,s.jsxs)("main",{className:"min-h-screen bg-black text-white pb-28",children:[(0,s.jsxs)("header",{className:"px-5 pt-8 pb-3 flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:(null==p?void 0:p.username)?"@".concat(p.username):"Profile"}),(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsx)(n.default,{href:"/settings",className:"text-neutral-400",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),(0,s.jsxs)("div",{className:"px-5 pb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-5 mb-4",children:[(0,s.jsx)(i.Z,{user:{avatarUrl:null==p?void 0:p.avatarUrl,name:(null==p?void 0:p.displayName)||(null==F?void 0:F.name)||(null==p?void 0:p.email)||"Athlete"},size:"xl",className:"border-2 border-[#0066FF]/40 bg-[#0066FF]/20"}),(0,s.jsxs)("div",{className:"flex-1 flex justify-around",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xl font-bold",children:null!==(x=null==p?void 0:p.workoutsCount)&&void 0!==x?x:0}),(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:"Workouts"})]}),(0,s.jsxs)(n.default,{href:"/profile/".concat(null==p?void 0:p.id,"/followers"),className:"text-center",children:[(0,s.jsx)("div",{className:"text-xl font-bold",children:null!==(h=null==p?void 0:p.followersCount)&&void 0!==h?h:0}),(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:"Followers"})]}),(0,s.jsxs)(n.default,{href:"/profile/".concat(null==p?void 0:p.id,"/following"),className:"text-center",children:[(0,s.jsx)("div",{className:"text-xl font-bold",children:null!==(m=null==p?void 0:p.followingCount)&&void 0!==m?m:0}),(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:"Following"})]})]})]}),(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("h2",{className:"font-bold text-base",children:(null==p?void 0:p.displayName)||(null==F?void 0:F.name)||"Athlete"}),(null==F?void 0:F.goal)&&(0,s.jsx)("p",{className:"text-xs text-neutral-500 mt-0.5",children:c[F.goal]||F.goal}),(null==p?void 0:p.bio)&&(0,s.jsx)("p",{className:"text-sm text-neutral-300 mt-1",children:p.bio}),!(null==p?void 0:p.username)&&(0,s.jsx)(n.default,{href:"/onboarding/username",className:"text-xs text-[#0066FF] mt-1 inline-block",children:"Set username →"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.default,{href:"/profile/edit",className:"flex-1 py-2 bg-[#1a1a1a] border border-[#262626] rounded-lg font-semibold text-sm text-center",children:"Edit Profile"}),(0,s.jsx)("button",{onClick:M,className:"flex-1 py-2 bg-[#1a1a1a] border border-[#262626] rounded-lg font-semibold text-sm",children:"Share Profile"})]})]}),(0,s.jsxs)("div",{className:"flex border-y border-[#1a1a1a] py-3 mb-0",children:[(0,s.jsxs)("div",{className:"flex-1 text-center border-r border-[#1a1a1a]",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-orange-400",children:[null!==(f=null==p?void 0:null===(e=p.streak)||void 0===e?void 0:e.currentStreak)&&void 0!==f?f:0," \uD83D\uDD25"]}),(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:"Streak"})]}),(0,s.jsxs)("div",{className:"flex-1 text-center border-r border-[#1a1a1a]",children:[(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:null!==(v=null==p?void 0:null===(t=p.streak)||void 0===t?void 0:t.longestStreak)&&void 0!==v?v:0}),(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:"Best Streak"})]}),(0,s.jsxs)("div",{className:"flex-1 text-center",children:[(0,s.jsx)("div",{className:"text-lg font-bold text-[#0066FF] capitalize",children:(null==p?void 0:null===(l=p.subscription)||void 0===l?void 0:l.tier)||"Free"}),(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:"Plan"})]})]}),(0,s.jsxs)("div",{className:"flex border-b border-[#1a1a1a]",children:[(0,s.jsx)("button",{onClick:()=>y("workouts"),className:"flex-1 py-3 text-center text-sm font-semibold transition-colors ".concat("workouts"===k?"text-white border-b-2 border-white":"text-neutral-500"),children:"\uD83D\uDCAA Workouts"}),(0,s.jsx)("button",{onClick:()=>y("stats"),className:"flex-1 py-3 text-center text-sm font-semibold transition-colors ".concat("stats"===k?"text-white border-b-2 border-white":"text-neutral-500"),children:"\uD83D\uDCCA Stats"})]}),"workouts"===k?(0,s.jsx)(d,{count:null!==(b=null==p?void 0:p.workoutsCount)&&void 0!==b?b:0}):(0,s.jsx)(u,{data:p}),(0,s.jsx)("div",{className:"px-5 pb-6",children:(0,s.jsx)("button",{onClick:C,className:"w-full py-3 text-sm text-red-400 hover:text-red-300 transition-colors",children:"Sign out"})}),(0,s.jsx)(o.Z,{active:"profile"})]})}},8837:function(e,t,l){"use strict";l.d(t,{Z:function(){return r}});var s=l(57437);let a={xs:"w-6 h-6 text-[10px]",sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-xl",xl:"w-24 h-24 text-3xl"};function r(e){let{user:t,size:l="md",className:r=""}=e,n=t.name||"Athlete",o="rounded-full overflow-hidden border border-white/15 flex items-center justify-center font-semibold ".concat(a[l]," ").concat(r);return t.avatarUrl?(0,s.jsx)("div",{className:o,children:(0,s.jsx)("img",{src:t.avatarUrl,alt:n,className:"w-full h-full object-cover"})}):(0,s.jsx)("div",{className:o,style:{backgroundColor:function(e){let t=0;for(let l=0;l<e.length;l++)t=(t<<5)-t+e.charCodeAt(l);let l=["#14532d","#1d4ed8","#7c2d12","#4c1d95","#0f766e","#9a3412"];return l[Math.abs(t)%l.length]}(n)},children:function(e){let t=e.trim().split(/\s+/).filter(Boolean);return t.length<=1?(t[0]||"?").slice(0,2).toUpperCase():(t[0][0]+t[1][0]).toUpperCase()}(n)})}},32371:function(e,t,l){"use strict";l.d(t,{Z:function(){return c}});var s=l(57437),a=l(87138),r=l(16463),n=l(2265);let o=[{id:"home",label:"Home",href:"/home",icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"discover",label:"Discover",href:"/discover",icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},{id:"workout",label:"Workout",href:"/workout",icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h2m0 0V4m0 2v2M3 6h18m-2 0V4m0 2v2m0-2h2M5 8h14m-7 4v4m0-4H9m3 0h3"})})},{id:"coach",label:"Coach",href:"/coach",icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})},{id:"profile",label:"Profile",href:"/profile",icon:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],i=["home","discover","workout","coach","profile"];function c(e){let{active:t}=e,l=(0,r.useRouter)(),c=i.indexOf(t);return!function(e){let{onSwipeLeft:t,onSwipeRight:l,threshold:s=60}=e,a=(0,n.useRef)(null),r=(0,n.useRef)(null);(0,n.useEffect)(()=>{function e(e){a.current=e.touches[0].clientX,r.current=e.touches[0].clientY}function n(e){if(null===a.current||null===r.current)return;let n=e.changedTouches[0].clientX-a.current;Math.abs(n)>Math.abs(e.changedTouches[0].clientY-r.current)&&Math.abs(n)>s&&(n<0?null==t||t():null==l||l()),a.current=null,r.current=null}return document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("touchend",n,{passive:!0}),()=>{document.removeEventListener("touchstart",e),document.removeEventListener("touchend",n)}},[t,l,s])}({onSwipeLeft:()=>{c<i.length-1&&l.push(o.find(e=>e.id===i[c+1]).href)},onSwipeRight:()=>{c>0&&l.push(o.find(e=>e.id===i[c-1]).href)}}),(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-[#1a1a1a] px-2 py-2 safe-area-inset-bottom z-40",children:(0,s.jsx)("div",{className:"flex items-center justify-around max-w-lg mx-auto",children:o.map(e=>(0,s.jsxs)(a.default,{href:e.href,className:"flex flex-col items-center gap-1 py-1.5 px-3 rounded-xl transition-colors ".concat(t===e.id?"text-[#0066FF]":"text-[#666666] hover:text-neutral-300"),children:[e.icon,(0,s.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.id))})})}}},function(e){e.O(0,[7138,2971,7023,1744],function(){return e(e.s=59217)}),_N_E=e.O()}]);