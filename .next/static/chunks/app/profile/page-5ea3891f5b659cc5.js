(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{9217:function(e,t,a){Promise.resolve().then(a.bind(a,1308))},1308:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(7437),s=a(2265),r=a(6463),n=a(7138),i=a(2371);let o={fat_loss:"Fat Loss",muscle_gain:"Build Muscle",strength:"Get Stronger",endurance:"Improve Endurance",general:"General Fitness"},c={beginner:"Beginner (0–1 yr)",intermediate:"Intermediate (1–3 yr)",advanced:"Advanced (3+ yr)"},d={full_gym:"Full Gym",home_gym:"Home Gym",minimal:"Minimal (Dumbbells)",bodyweight:"Bodyweight Only"};function u(){var e,t,a;let u=(0,r.useRouter)(),[h,x]=(0,s.useState)(null),[m,p]=(0,s.useState)(!0);async function v(){await fetch("/api/auth/logout",{method:"POST"}),u.push("/")}(0,s.useEffect)(()=>{fetch("/api/user/profile").then(e=>e.json()).then(x).catch(()=>{}).finally(()=>p(!1))},[]);let b=null==h?void 0:h.profile,f=(null==b?void 0:b.unitSystem)!=="metric",g=(null==b?void 0:b.weight)?f?"".concat(Math.round(2.2046*b.weight)," lbs"):"".concat(Math.round(b.weight)," kg"):null,j=(null==b?void 0:b.height)?f?function(e){let t=e/2.54;return"".concat(Math.floor(t/12),"'").concat(Math.round(t%12),'"')}(b.height):"".concat(Math.round(b.height)," cm"):null;return m?(0,l.jsx)("main",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-8 h-8 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):(0,l.jsxs)("main",{className:"min-h-screen bg-black text-white pb-28",children:[(0,l.jsxs)("header",{className:"px-6 pt-8 pb-4",children:[(0,l.jsx)("div",{className:"text-xs font-bold tracking-widest text-[#0066FF]",children:"FORC3"}),(0,l.jsx)("h1",{className:"text-2xl font-bold mt-1",children:"Profile"})]}),(0,l.jsxs)("div",{className:"px-6 space-y-4",children:[(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,l.jsx)("div",{className:"w-14 h-14 rounded-full bg-[#0066FF]/20 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-[#0066FF] font-bold text-xl",children:((null==b?void 0:b.name)||(null==h?void 0:h.email)||"?")[0].toUpperCase()})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold text-lg",children:(null==b?void 0:b.name)||"Athlete"}),(0,l.jsx)("div",{className:"text-sm text-neutral-500",children:null==h?void 0:h.email})]})]}),(null==h?void 0:h.streak)&&(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-[#0a0a0a] rounded-xl p-3 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-[#0066FF]",children:h.streak.currentStreak}),(0,l.jsx)("div",{className:"text-xs text-neutral-500 mt-1",children:"day streak \uD83D\uDD25"})]}),(0,l.jsxs)("div",{className:"bg-[#0a0a0a] rounded-xl p-3 text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:h.streak.longestStreak}),(0,l.jsx)("div",{className:"text-xs text-neutral-500 mt-1",children:"best streak"})]})]})]}),(0,l.jsx)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-1",children:"Plan"}),(0,l.jsxs)("div",{className:"font-bold capitalize",children:[(null==h?void 0:null===(e=h.subscription)||void 0===e?void 0:e.tier)||"Free",(null==h?void 0:null===(t=h.subscription)||void 0===t?void 0:t.tier)==="free"&&(0,l.jsx)("span",{className:"ml-2 text-xs text-neutral-500",children:"\xb7 Limited features"})]})]}),(null==h?void 0:null===(a=h.subscription)||void 0===a?void 0:a.tier)==="free"&&(0,l.jsx)("div",{className:"px-4 py-2 bg-[#0066FF] rounded-xl text-sm font-bold",children:"Upgrade"})]})}),b&&(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5 space-y-3",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-2",children:"Training Profile"}),[{label:"Goal",value:b.goal?o[b.goal]||b.goal:null},{label:"Experience",value:b.experienceLevel?c[b.experienceLevel]||b.experienceLevel:null},{label:"Training Days",value:b.trainingDays?"".concat(b.trainingDays,"x / week"):null},{label:"Equipment",value:b.equipment?d[b.equipment]||b.equipment:null},{label:"Sport Focus",value:b.sport?b.sport.charAt(0).toUpperCase()+b.sport.slice(1):null}].filter(e=>e.value).map(e=>(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-neutral-500",children:e.label}),(0,l.jsx)("span",{className:"font-medium",children:e.value})]},e.label))]}),b&&(b.weight||b.height||b.age)&&(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5 space-y-3",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-2",children:"Body Stats"}),[{label:"Age",value:b.age?"".concat(b.age," years"):null},{label:"Weight",value:g},{label:"Height",value:j}].filter(e=>e.value).map(e=>(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-neutral-500",children:e.label}),(0,l.jsx)("span",{className:"font-medium",children:e.value})]},e.label))]}),(null==b?void 0:b.targetCalories)&&(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-5",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-3",children:"Daily Targets"}),(0,l.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Calories",value:"".concat(Math.round(b.targetCalories)," kcal"),color:"text-[#0066FF]"},{label:"Protein",value:"".concat(Math.round(b.targetProtein),"g"),color:"text-[#00C853]"},{label:"Carbs",value:"".concat(Math.round(b.targetCarbs),"g"),color:"text-white"},{label:"Fat",value:"".concat(Math.round(b.targetFat),"g"),color:"text-[#FFB300]"}].map(e=>(0,l.jsxs)("div",{className:"bg-[#0a0a0a] rounded-xl p-3",children:[(0,l.jsx)("div",{className:"text-xs text-neutral-500",children:e.label}),(0,l.jsx)("div",{className:"text-lg font-bold mt-0.5 ".concat(e.color),children:e.value})]},e.label))})]}),(0,l.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl overflow-hidden",children:[(0,l.jsxs)(n.default,{href:"/settings/profile",className:"flex items-center justify-between px-5 py-4 border-b border-[#1a1a1a] hover:bg-[#1a1a1a] transition-colors",children:[(0,l.jsx)("span",{className:"text-sm",children:"Edit Profile"}),(0,l.jsx)("span",{className:"text-neutral-500",children:"→"})]}),(0,l.jsxs)(n.default,{href:"/settings",className:"flex items-center justify-between px-5 py-4 border-b border-[#1a1a1a] hover:bg-[#1a1a1a] transition-colors",children:[(0,l.jsx)("span",{className:"text-sm",children:"Settings"}),(0,l.jsx)("span",{className:"text-neutral-500",children:"→"})]}),(0,l.jsxs)(n.default,{href:"/history",className:"flex items-center justify-between px-5 py-4 border-b border-[#1a1a1a] hover:bg-[#1a1a1a] transition-colors",children:[(0,l.jsx)("span",{className:"text-sm",children:"Workout History"}),(0,l.jsx)("span",{className:"text-neutral-500",children:"→"})]}),(0,l.jsxs)(n.default,{href:"/progress",className:"flex items-center justify-between px-5 py-4 border-b border-[#1a1a1a] hover:bg-[#1a1a1a] transition-colors",children:[(0,l.jsx)("span",{className:"text-sm",children:"Personal Records"}),(0,l.jsx)("span",{className:"text-neutral-500",children:"→"})]}),(0,l.jsx)("button",{onClick:v,className:"w-full flex items-center px-5 py-4 text-sm text-red-400 hover:text-red-300 hover:bg-[#1a1a1a] transition-colors text-left",children:"Sign out"})]})]}),(0,l.jsx)(i.Z,{active:"profile"})]})}},2371:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var l=a(7437),s=a(7138),r=a(6463),n=a(2265);let i=[{id:"home",label:"Home",href:"/dashboard",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"nutrition",label:"Nutrition",href:"/nutrition",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"coach",label:"Coach",href:"/coach",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})},{id:"progress",label:"Progress",href:"/progress",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{id:"profile",label:"Profile",href:"/profile",icon:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],o=["home","nutrition","coach","progress","profile"];function c(e){let{active:t}=e,a=(0,r.useRouter)(),c=o.indexOf(t);return!function(e){let{onSwipeLeft:t,onSwipeRight:a,threshold:l=60}=e,s=(0,n.useRef)(null),r=(0,n.useRef)(null);(0,n.useEffect)(()=>{function e(e){s.current=e.touches[0].clientX,r.current=e.touches[0].clientY}function n(e){if(null===s.current||null===r.current)return;let n=e.changedTouches[0].clientX-s.current;Math.abs(n)>Math.abs(e.changedTouches[0].clientY-r.current)&&Math.abs(n)>l&&(n<0?null==t||t():null==a||a()),s.current=null,r.current=null}return document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("touchend",n,{passive:!0}),()=>{document.removeEventListener("touchstart",e),document.removeEventListener("touchend",n)}},[t,a,l])}({onSwipeLeft:()=>{c<o.length-1&&a.push(i.find(e=>e.id===o[c+1]).href)},onSwipeRight:()=>{c>0&&a.push(i.find(e=>e.id===o[c-1]).href)}}),(0,l.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-[#1a1a1a] px-2 py-2 safe-area-inset-bottom z-40",children:(0,l.jsx)("div",{className:"flex items-center justify-around max-w-lg mx-auto",children:i.map(e=>(0,l.jsxs)(s.default,{href:e.href,className:"flex flex-col items-center gap-1 py-1.5 px-3 rounded-xl transition-colors ".concat(t===e.id?"text-[#0066FF]":"text-[#666666] hover:text-neutral-300"),children:[e.icon,(0,l.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.id))})})}}},function(e){e.O(0,[291,971,23,744],function(){return e(e.s=9217)}),_N_E=e.O()}]);