(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{8787:function(e,t,s){Promise.resolve().then(s.bind(s,4933))},4933:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(7437),n=s(2265),a=s(6463),l=s(2371);function i(){let e=(0,a.useRouter)(),[t,s]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[d,c]=(0,n.useState)(null),[x,h]=(0,n.useState)("all");(0,n.useEffect)(()=>{fetch("/api/workouts/log?limit=100").then(e=>e.json()).then(e=>s(e.logs||[])).catch(()=>{}).finally(()=>o(!1))},[]);let u=(0,n.useMemo)(()=>{let e=new Date;if("week"===x){let s=new Date(e);return s.setDate(e.getDate()-7),t.filter(e=>new Date(e.startedAt)>=s)}if("month"===x){let s=new Date(e);return s.setDate(e.getDate()-30),t.filter(e=>new Date(e.startedAt)>=s)}return t},[t,x]),m=(0,n.useMemo)(()=>u.reduce((e,t)=>e+t.exerciseLogs.reduce((e,t)=>e+t.sets.reduce((e,t)=>e+t.weight*t.reps,0),0),0),[u]);return(0,r.jsxs)("main",{className:"min-h-screen bg-black text-white pb-28",children:[(0,r.jsxs)("header",{className:"px-6 pt-8 pb-4",children:[(0,r.jsx)("div",{className:"flex items-center gap-3 mb-1",children:(0,r.jsx)("button",{onClick:()=>e.back(),className:"text-neutral-500 text-sm hover:text-white transition-colors",children:"← Back"})}),(0,r.jsx)("div",{className:"text-xs font-bold tracking-widest text-[#0066FF]",children:"FORC3"}),(0,r.jsx)("h1",{className:"text-2xl font-bold mt-1",children:"History"}),(0,r.jsxs)("p",{className:"text-sm text-neutral-500",children:[u.length," workouts"]})]}),(0,r.jsx)("div",{className:"px-6 mb-4",children:(0,r.jsx)("div",{className:"flex bg-[#141414] border border-[#262626] rounded-xl p-1 gap-1",children:[{key:"week",label:"This Week"},{key:"month",label:"30 Days"},{key:"all",label:"All Time"}].map(e=>(0,r.jsx)("button",{onClick:()=>h(e.key),className:"flex-1 py-2 rounded-lg text-sm font-medium transition-all ".concat(x===e.key?"bg-[#0066FF] text-white":"text-neutral-400 hover:text-white"),children:e.label},e.key))})}),u.length>0&&(0,r.jsx)("div",{className:"px-6 mb-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-xl p-3 text-center",children:[(0,r.jsx)("div",{className:"text-xl font-bold",children:u.length}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 mt-0.5",children:"Workouts"})]}),(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-xl p-3 text-center",children:[(0,r.jsx)("div",{className:"text-xl font-bold",children:u.reduce((e,t)=>e+(t.duration||0),0)}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 mt-0.5",children:"Minutes"})]}),(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-xl p-3 text-center",children:[(0,r.jsx)("div",{className:"text-xl font-bold",children:m>=1e3?"".concat((m/1e3).toFixed(1),"k"):Math.round(m)}),(0,r.jsx)("div",{className:"text-xs text-neutral-500 mt-0.5",children:"Lbs"})]})]})}),(0,r.jsxs)("div",{className:"px-6 space-y-3",children:[i&&(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("div",{className:"w-6 h-6 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}),!i&&0===u.length&&(0,r.jsxs)("div",{className:"text-center py-16 space-y-4",children:[(0,r.jsx)("div",{className:"text-5xl",children:"\uD83C\uDFCB️"}),(0,r.jsx)("p",{className:"font-semibold",children:0===t.length?"No workouts yet":"No workouts in this period"}),(0,r.jsx)("p",{className:"text-sm text-neutral-500",children:0===t.length?"Complete your first workout to see it here.":"Try a wider time range above."}),0===t.length&&(0,r.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"px-6 py-3 bg-[#0066FF] text-white font-bold rounded-xl",children:"Start Today's Workout"})]}),u.map(e=>{var t;let s=d===e.id,n=e.exerciseLogs.reduce((e,t)=>e+t.sets.reduce((e,t)=>e+t.weight*t.reps,0),0),a=e.exerciseLogs.reduce((e,t)=>e+t.sets.length,0),l=e.exerciseLogs.some(e=>e.sets.some(e=>e.isPR));return(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl overflow-hidden",children:[(0,r.jsxs)("button",{onClick:()=>c(s?null:e.id),className:"w-full px-5 py-4 flex items-start justify-between text-left",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"font-semibold",children:(null===(t=e.workout)||void 0===t?void 0:t.name)||"Workout"}),l&&(0,r.jsx)("span",{className:"text-xs bg-[#FFB300]/20 text-[#FFB300] px-2 py-0.5 rounded-full border border-[#FFB300]/30",children:"PR!"})]}),(0,r.jsxs)("div",{className:"text-xs text-neutral-500 mt-1 flex items-center gap-2",children:[(0,r.jsx)("span",{children:function(e){let t=new Date(e),s=new Date,r=new Date;return(r.setDate(s.getDate()-1),t.toDateString()===s.toDateString())?"Today":t.toDateString()===r.toDateString()?"Yesterday":t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}(e.startedAt)}),e.duration&&(0,r.jsxs)("span",{children:["\xb7 ",e.duration," min"]}),a>0&&(0,r.jsxs)("span",{children:["\xb7 ",a," sets"]}),n>0&&(0,r.jsxs)("span",{children:["\xb7 ",n>=1e3?"".concat((n/1e3).toFixed(1),"k"):Math.round(n)," lbs"]})]})]}),(0,r.jsx)("span",{className:"text-neutral-600 text-lg mt-1",children:s?"−":"+"})]}),s&&(0,r.jsxs)("div",{className:"border-t border-[#1a1a1a]",children:[e.exerciseLogs.length>0?(0,r.jsx)("div",{className:"divide-y divide-[#1a1a1a]",children:e.exerciseLogs.map(e=>{let t=e.sets.reduce((e,t)=>!e||t.weight>e.weight?t:e,null);return(0,r.jsxs)("div",{className:"px-5 py-3 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:e.exercise.name}),(0,r.jsxs)("div",{className:"text-xs text-neutral-500 mt-0.5",children:[e.sets.length," sets"]})]}),t&&(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold",children:[t.weight," \xd7 ",t.reps,t.isPR&&(0,r.jsx)("span",{className:"ml-1 text-[#FFB300]",children:"\uD83C\uDFC6"})]}),(0,r.jsx)("div",{className:"text-xs text-neutral-500",children:"best set"})]})]},e.id)})}):(0,r.jsx)("div",{className:"px-5 py-3 text-sm text-neutral-500",children:"No exercises logged"}),e.overallRpe&&(0,r.jsx)("div",{className:"px-5 py-3 border-t border-[#1a1a1a]",children:(0,r.jsxs)("span",{className:"text-xs text-neutral-500",children:["Overall RPE: ",e.overallRpe,"/10"]})})]})]},e.id)})]}),(0,r.jsx)(l.Z,{active:"home"})]})}},2371:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(7437),n=s(7138),a=s(6463),l=s(2265);let i=[{id:"home",label:"Home",href:"/dashboard",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"nutrition",label:"Nutrition",href:"/nutrition",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"coach",label:"Coach",href:"/coach",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})},{id:"progress",label:"Progress",href:"/progress",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})},{id:"profile",label:"Profile",href:"/profile",icon:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],o=["home","nutrition","coach","progress","profile"];function d(e){let{active:t}=e,s=(0,a.useRouter)(),d=o.indexOf(t);return!function(e){let{onSwipeLeft:t,onSwipeRight:s,threshold:r=60}=e,n=(0,l.useRef)(null),a=(0,l.useRef)(null);(0,l.useEffect)(()=>{function e(e){n.current=e.touches[0].clientX,a.current=e.touches[0].clientY}function l(e){if(null===n.current||null===a.current)return;let l=e.changedTouches[0].clientX-n.current;Math.abs(l)>Math.abs(e.changedTouches[0].clientY-a.current)&&Math.abs(l)>r&&(l<0?null==t||t():null==s||s()),n.current=null,a.current=null}return document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("touchend",l,{passive:!0}),()=>{document.removeEventListener("touchstart",e),document.removeEventListener("touchend",l)}},[t,s,r])}({onSwipeLeft:()=>{d<o.length-1&&s.push(i.find(e=>e.id===o[d+1]).href)},onSwipeRight:()=>{d>0&&s.push(i.find(e=>e.id===o[d-1]).href)}}),(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-[#1a1a1a] px-2 py-2 safe-area-inset-bottom z-40",children:(0,r.jsx)("div",{className:"flex items-center justify-around max-w-lg mx-auto",children:i.map(e=>(0,r.jsxs)(n.default,{href:e.href,className:"flex flex-col items-center gap-1 py-1.5 px-3 rounded-xl transition-colors ".concat(t===e.id?"text-[#0066FF]":"text-[#666666] hover:text-neutral-300"),children:[e.icon,(0,r.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.id))})})}}},function(e){e.O(0,[291,971,23,744],function(){return e(e.s=8787)}),_N_E=e.O()}]);