"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6791],{1555:function(e,t,s){s.d(t,{Z:function(){return i}});var n=s(57437),r=s(2265),l=s(36106);function a(e){let{seconds:t,running:s}=e;return(0,n.jsxs)("div",{className:"tabular-nums text-2xl font-bold ".concat(s?"text-[#00C853]":"text-white"),children:[Math.floor(t/60),":",(t%60).toString().padStart(2,"0")]})}function i(){var e;let[t,s]=(0,r.useState)(null),[i,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1),[h,m]=(0,r.useState)(0),[f,v]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[j,g]=(0,r.useState)(null),N=(0,r.useRef)(null);if((0,r.useEffect)(()=>{fetch("/api/cardio/today").then(e=>e.json()).then(e=>s(e)).catch(()=>s(null)).finally(()=>o(!1))},[]),(0,r.useEffect)(()=>(u?N.current=setInterval(()=>m(e=>e+1),1e3):N.current&&clearInterval(N.current),()=>{N.current&&clearInterval(N.current)}),[u]),i||!t)return null;let y=t.activity||t.suggestion;if(!y)return null;let w=null===(e=t.activity)||void 0===e?void 0:e.completed,k=y.type,C=l.A7[k]||"\uD83C\uDFC3",S=l.I7[y.intensity||"moderate"],F=y.duration,L=y.intervals&&y.intervals.length>0,M=async()=>{if(x(!0),d(!0),!t.activity&&t.suggestion){let e=await fetch("/api/cardio/today",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"start",templateId:t.suggestion.templateId})}),s=await e.json();s.activity&&g(s.activity.id)}else t.activity&&g(t.activity.id)},E=async()=>{var e;v(!0),x(!1);let n=j||(null===(e=t.activity)||void 0===e?void 0:e.id);n&&await fetch("/api/cardio/today",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"complete",activityId:n,duration:Math.round(h/60)||F})}),v(!1),b(!0),setTimeout(()=>{b(!1),s(e=>e?{...e,activity:{...e.activity||{},completed:!0}}:null)},2e3)},W=y.title||k,I=y.description||"";return(0,n.jsxs)(n.Fragment,{children:[p&&(0,n.jsx)("div",{className:"fixed bottom-24 left-4 right-4 z-50",children:(0,n.jsxs)("div",{className:"bg-[#141414] border border-[#00C853]/40 rounded-2xl px-5 py-4 flex items-center gap-3 shadow-lg",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-[#00C853]/20 border border-[#00C853]/50 flex items-center justify-center flex-shrink-0",children:(0,n.jsx)("svg",{className:"w-4 h-4 text-[#00C853]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})}),(0,n.jsx)("p",{className:"font-bold text-white text-sm",children:"Workout Complete! \uD83D\uDCAA"})]})}),(0,n.jsxs)("div",{className:"bg-[#141414] border rounded-2xl overflow-hidden transition-all ".concat(w?"border-[#262626] opacity-70":"border-[#262626]"),children:[(0,n.jsxs)("div",{className:"px-5 py-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-lg",children:C}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("p",{className:"text-xs text-neutral-500 uppercase tracking-wide",children:"Cardio"}),w&&(0,n.jsx)("span",{className:"text-[#00C853] text-xs",children:"✓ Done"})]}),(0,n.jsx)("h3",{className:"font-bold text-white",children:W})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[u&&(0,n.jsx)(a,{seconds:h,running:u}),(0,n.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border capitalize ".concat(S),children:y.intensity})]})]}),(0,n.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,n.jsxs)("span",{className:"text-xs text-neutral-500",children:["⏱ ",F," min"]}),L&&(0,n.jsx)("span",{className:"text-xs text-neutral-500",children:"• Intervals included"})]})]}),!w&&(0,n.jsxs)("div",{className:"px-5 pb-4 space-y-3",children:[(0,n.jsx)("button",{onClick:()=>d(e=>!e),className:"text-xs text-[#0066FF] hover:text-[#0052CC] transition-colors flex items-center gap-1",children:c?"Hide instructions ↑":"Show instructions ↓"}),c&&(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("p",{className:"text-sm text-neutral-300 leading-relaxed",children:I}),L&&(0,n.jsxs)("div",{className:"bg-[#0a0a0a] rounded-xl p-3 space-y-2",children:[(0,n.jsx)("p",{className:"text-xs text-neutral-500 uppercase tracking-wide mb-2",children:"Workout Structure"}),y.intervals.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,n.jsx)("span",{className:"font-medium text-neutral-200",children:e.label}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("span",{className:"text-[#0066FF]",children:e.work}),"0"!==e.rest&&(0,n.jsxs)("span",{className:"text-neutral-500 ml-1",children:["/ ",e.rest," rest"]}),e.reps>1&&(0,n.jsxs)("span",{className:"text-neutral-500 ml-1",children:["\xd7 ",e.reps]})]})]},t))]})]}),(0,n.jsxs)("div",{className:"flex gap-2 pt-1",children:[u?(0,n.jsx)("button",{onClick:()=>x(!1),className:"flex-1 py-3 bg-[#1a1a1a] border border-[#262626] text-neutral-300 font-semibold rounded-xl text-sm hover:text-white transition-colors",children:"Pause"}):(0,n.jsx)("button",{onClick:M,className:"flex-1 py-3 bg-[#0066FF] text-white font-semibold rounded-xl text-sm hover:bg-[#0052CC] transition-colors",children:h>0?"Resume":"Start"}),(0,n.jsx)("button",{onClick:E,disabled:f,className:"flex-1 py-3 bg-[#00C853]/20 text-[#00C853] border border-[#00C853]/30 font-semibold rounded-xl text-sm hover:bg-[#00C853]/30 transition-colors disabled:opacity-50",children:f?"Saving...":"Complete"})]})]})]})]})}},32371:function(e,t,s){s.d(t,{Z:function(){return c}});var n=s(57437),r=s(87138),l=s(16463),a=s(2265);let i=[{id:"home",label:"Home",href:"/home",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{id:"discover",label:"Discover",href:"/discover",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},{id:"workout",label:"Workout",href:"/workout",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6h2m0 0V4m0 2v2M3 6h18m-2 0V4m0 2v2m0-2h2M5 8h14m-7 4v4m0-4H9m3 0h3"})})},{id:"coach",label:"Coach",href:"/coach",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})},{id:"profile",label:"Profile",href:"/profile",icon:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],o=["home","discover","workout","coach","profile"];function c(e){let{active:t}=e,s=(0,l.useRouter)(),c=o.indexOf(t);return!function(e){let{onSwipeLeft:t,onSwipeRight:s,threshold:n=60}=e,r=(0,a.useRef)(null),l=(0,a.useRef)(null);(0,a.useEffect)(()=>{function e(e){r.current=e.touches[0].clientX,l.current=e.touches[0].clientY}function a(e){if(null===r.current||null===l.current)return;let a=e.changedTouches[0].clientX-r.current;Math.abs(a)>Math.abs(e.changedTouches[0].clientY-l.current)&&Math.abs(a)>n&&(a<0?null==t||t():null==s||s()),r.current=null,l.current=null}return document.addEventListener("touchstart",e,{passive:!0}),document.addEventListener("touchend",a,{passive:!0}),()=>{document.removeEventListener("touchstart",e),document.removeEventListener("touchend",a)}},[t,s,n])}({onSwipeLeft:()=>{c<o.length-1&&s.push(i.find(e=>e.id===o[c+1]).href)},onSwipeRight:()=>{c>0&&s.push(i.find(e=>e.id===o[c-1]).href)}}),(0,n.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-[#1a1a1a] px-2 py-2 safe-area-inset-bottom z-40",children:(0,n.jsx)("div",{className:"flex items-center justify-around max-w-lg mx-auto",children:i.map(e=>(0,n.jsxs)(r.default,{href:e.href,className:"flex flex-col items-center gap-1 py-1.5 px-3 rounded-xl transition-colors ".concat(t===e.id?"text-[#0066FF]":"text-[#666666] hover:text-neutral-300"),children:[e.icon,(0,n.jsx)("span",{className:"text-[10px] font-medium",children:e.label})]},e.id))})})}},93595:function(e,t,s){s.d(t,{Z:function(){return l}});var n=s(57437),r=s(2265);function l(e){let{onRefresh:t,children:s}=e,{pullDistance:l,pullProgress:a,refreshing:i}=function(e){let{onRefresh:t,threshold:s=80}=e,[n,l]=(0,r.useState)(0),[a,i]=(0,r.useState)(!1),o=(0,r.useRef)(null),c=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=c.current||document.documentElement;function r(e){0===window.scrollY&&(o.current=e.touches[0].clientY)}function d(e){if(null===o.current||a)return;let t=e.touches[0].clientY-o.current;t>0&&0===window.scrollY&&(l(Math.min(t,1.5*s)),t>20&&e.preventDefault())}async function u(){if(null!==o.current){if(n>=s&&!a){i(!0),l(0);try{await t()}finally{i(!1)}}else l(0);o.current=null}}return e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchmove",d,{passive:!1}),e.addEventListener("touchend",u),()=>{e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",d),e.removeEventListener("touchend",u)}},[n,a,t,s]);let d=Math.min(n/s,1);return{containerRef:c,pullDistance:n,pullProgress:d,refreshing:a}}({onRefresh:t});return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{height:"".concat(Math.max(0,.5*l),"px"),overflow:"hidden",transition:0===l?"height 0.2s ease":"none"},className:"flex items-center justify-center",children:(l>0||i)&&(0,n.jsxs)("div",{className:"flex flex-col items-center gap-1 py-2",children:[i?(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"}):(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-[#0066FF] border-t-transparent rounded-full",style:{transform:"rotate(".concat(360*a,"deg)"),opacity:a}}),(0,n.jsx)("span",{className:"text-[10px] text-neutral-500",children:i?"Refreshing...":a>=1?"Release to refresh":"Pull to refresh"})]})}),s]})}},2359:function(e,t,s){s.d(t,{Z:function(){return l}});var n=s(57437),r=s(2265);function l(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0);function a(){let e=new Date().toISOString().slice(0,10);localStorage.setItem("weeklySummaryShown",e),l(!0)}return((0,r.useEffect)(()=>{let e=new Date;1===e.getDay()&&localStorage.getItem("weeklySummaryShown")!==e.toISOString().slice(0,10)&&fetch("/api/progress/weekly").then(e=>e.json()).then(e=>{e.totalWorkouts>0&&(t(e),l(!1))}).catch(()=>{})},[]),s||!e)?null:(0,n.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-end justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-3xl w-full max-w-sm overflow-hidden",children:[(0,n.jsxs)("div",{className:"p-5",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-xs text-[#0066FF] font-bold tracking-widest",children:"WEEKLY RECAP"}),(0,n.jsx)("h2",{className:"text-xl font-bold mt-1",children:"Last Week"})]}),(0,n.jsx)("button",{onClick:a,className:"w-7 h-7 flex items-center justify-center rounded-full bg-[#1a1a1a] text-neutral-400",children:"✕"})]}),void 0!==e.overallScore&&(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,n.jsx)("div",{className:"w-16 h-16 rounded-full flex items-center justify-center font-bold text-2xl border-4",style:{borderColor:e.overallScore>=80?"#00C853":e.overallScore>=60?"#FFB300":"#FF4444",color:e.overallScore>=80?"#00C853":e.overallScore>=60?"#FFB300":"#FF4444"},children:e.overallScore}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:"Overall Score"}),(0,n.jsxs)("div",{className:"text-sm text-neutral-400",children:[e.totalWorkouts," workout",1!==e.totalWorkouts?"s":""," \xb7 ",Math.round(e.complianceRate),"% compliance"]})]})]}),e.motivationalNote&&(0,n.jsx)("div",{className:"mb-4 p-3 bg-[#0066FF]/10 border border-[#0066FF]/20 rounded-xl",children:(0,n.jsxs)("p",{className:"text-sm text-[#60A5FA] italic",children:['"',e.motivationalNote,'"']})}),e.insights.length>0&&(0,n.jsxs)("div",{className:"text-sm text-neutral-300 mb-3",children:[(0,n.jsx)("span",{className:"text-neutral-500",children:"Insight: "}),e.insights[0]]}),e.recommendations.length>0&&(0,n.jsx)("div",{className:"p-3 bg-[#00C853]/10 border border-[#00C853]/20 rounded-xl text-sm text-[#00C853] mb-4",children:e.recommendations[0]})]}),(0,n.jsxs)("div",{className:"px-5 pb-5 flex gap-3",children:[(0,n.jsx)("button",{onClick:a,className:"flex-1 py-3 bg-[#0a0a0a] border border-[#262626] rounded-xl font-semibold text-sm",children:"Dismiss"}),(0,n.jsx)("button",{onClick:()=>{a(),window.location.href="/progress/weekly"},className:"flex-1 py-3 bg-[#0066FF] text-white rounded-xl font-semibold text-sm",children:"Full Report"})]})]})})}}}]);