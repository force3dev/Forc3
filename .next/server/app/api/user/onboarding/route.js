"use strict";(()=>{var e={};e.id=326,e.ids=[326],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},67311:(e,s,r)=>{r.r(s),r.d(s,{originalPathname:()=>x,patchFetch:()=>j,requestAsyncStorage:()=>w,routeModule:()=>q,serverHooks:()=>G,staticGenerationAsyncStorage:()=>v});var n={};r.r(n),r.d(n,{POST:()=>I,dynamic:()=>f});var a=r(49303),l=r(88716),u=r(60670),t=r(87070),i=r(61165),o=r(13538),p=r(95456);let m={push:{compound:[{name:"Barbell Bench Press",equipment:["barbell"],avoidIfInjury:["shoulders","wrists"],muscleGroups:["chest","shoulders","triceps"]},{name:"Incline Barbell Bench Press",equipment:["barbell"],avoidIfInjury:["shoulders"],muscleGroups:["upper chest","shoulders","triceps"]},{name:"Dumbbell Bench Press",equipment:["dumbbells"],avoidIfInjury:["shoulders","wrists"],muscleGroups:["chest","shoulders","triceps"]},{name:"Incline Dumbbell Press",equipment:["dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["upper chest","shoulders","triceps"]},{name:"Push-Up",equipment:["bodyweight"],avoidIfInjury:["wrists"],muscleGroups:["chest","shoulders","triceps"]},{name:"Dumbbell Shoulder Press",equipment:["dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["shoulders","triceps"]},{name:"Machine Chest Press",equipment:["machine"],avoidIfInjury:[],muscleGroups:["chest","shoulders","triceps"]}],isolation:[{name:"Dumbbell Lateral Raise",equipment:["dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["shoulders"]},{name:"Cable Lateral Raise",equipment:["cable"],avoidIfInjury:["shoulders"],muscleGroups:["shoulders"]},{name:"Tricep Pushdown",equipment:["cable"],avoidIfInjury:["elbows"],muscleGroups:["triceps"]},{name:"Overhead Tricep Extension",equipment:["cable","dumbbells"],avoidIfInjury:["elbows"],muscleGroups:["triceps"]},{name:"Pec Deck / Chest Fly",equipment:["machine","cable"],avoidIfInjury:["shoulders"],muscleGroups:["chest"]},{name:"Dumbbell Front Raise",equipment:["dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["shoulders"]}]},pull:{compound:[{name:"Barbell Row",equipment:["barbell"],avoidIfInjury:["lower_back","wrists"],muscleGroups:["back","biceps","rear delts"]},{name:"Pull-Up",equipment:["bodyweight","pull-up bar"],avoidIfInjury:["shoulders","elbows"],muscleGroups:["back","biceps"]},{name:"Lat Pulldown",equipment:["cable"],avoidIfInjury:["shoulders"],muscleGroups:["back","biceps"]},{name:"Seated Cable Row",equipment:["cable"],avoidIfInjury:["lower_back"],muscleGroups:["back","biceps"]},{name:"Dumbbell Row",equipment:["dumbbells"],avoidIfInjury:["lower_back","wrists"],muscleGroups:["back","biceps"]},{name:"T-Bar Row",equipment:["barbell"],avoidIfInjury:["lower_back"],muscleGroups:["back","biceps"]}],isolation:[{name:"Bicep Curl",equipment:["barbell","dumbbells","cable"],avoidIfInjury:["elbows","wrists"],muscleGroups:["biceps"]},{name:"Hammer Curl",equipment:["dumbbells","cable"],avoidIfInjury:["elbows"],muscleGroups:["biceps","brachialis"]},{name:"Face Pull",equipment:["cable"],avoidIfInjury:["shoulders"],muscleGroups:["rear delts","upper back"]},{name:"Cable Row (Close Grip)",equipment:["cable"],avoidIfInjury:["lower_back"],muscleGroups:["back"]},{name:"Rear Delt Fly",equipment:["dumbbells","cable"],avoidIfInjury:[],muscleGroups:["rear delts"]}]},legs:{compound:[{name:"Barbell Squat",equipment:["barbell"],avoidIfInjury:["knees","lower_back"],muscleGroups:["quads","glutes","hamstrings"]},{name:"Romanian Deadlift",equipment:["barbell"],avoidIfInjury:["lower_back","hamstrings"],muscleGroups:["hamstrings","glutes","lower_back"]},{name:"Leg Press",equipment:["machine"],avoidIfInjury:["knees","lower_back"],muscleGroups:["quads","glutes"]},{name:"Bulgarian Split Squat",equipment:["dumbbells","bodyweight"],avoidIfInjury:["knees"],muscleGroups:["quads","glutes","hamstrings"]},{name:"Hack Squat",equipment:["machine"],avoidIfInjury:["knees"],muscleGroups:["quads","glutes"]},{name:"Barbell Hip Thrust",equipment:["barbell"],avoidIfInjury:[],muscleGroups:["glutes","hamstrings"]},{name:"Goblet Squat",equipment:["dumbbells","kettlebell"],avoidIfInjury:["knees","lower_back"],muscleGroups:["quads","glutes"]}],isolation:[{name:"Leg Extension",equipment:["machine"],avoidIfInjury:["knees"],muscleGroups:["quads"]},{name:"Leg Curl",equipment:["machine"],avoidIfInjury:["knees","lower_back"],muscleGroups:["hamstrings"]},{name:"Standing Calf Raise",equipment:["machine","bodyweight"],avoidIfInjury:[],muscleGroups:["calves"]},{name:"Seated Calf Raise",equipment:["machine"],avoidIfInjury:[],muscleGroups:["calves"]},{name:"Hip Abduction",equipment:["machine","cable"],avoidIfInjury:[],muscleGroups:["glutes","hip abductors"]}]},upper:{push:[{name:"Barbell Bench Press",equipment:["barbell"],avoidIfInjury:["shoulders","wrists"],muscleGroups:["chest","shoulders","triceps"]},{name:"Incline Dumbbell Press",equipment:["dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["upper chest","shoulders","triceps"]},{name:"Dumbbell Shoulder Press",equipment:["dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["shoulders","triceps"]},{name:"Tricep Pushdown",equipment:["cable"],avoidIfInjury:["elbows"],muscleGroups:["triceps"]},{name:"Dumbbell Lateral Raise",equipment:["dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["shoulders"]}],pull:[{name:"Pull-Up",equipment:["bodyweight","pull-up bar"],avoidIfInjury:["shoulders","elbows"],muscleGroups:["back","biceps"]},{name:"Barbell Row",equipment:["barbell"],avoidIfInjury:["lower_back","wrists"],muscleGroups:["back","biceps"]},{name:"Lat Pulldown",equipment:["cable"],avoidIfInjury:["shoulders"],muscleGroups:["back","biceps"]},{name:"Face Pull",equipment:["cable"],avoidIfInjury:[],muscleGroups:["rear delts"]},{name:"Bicep Curl",equipment:["dumbbells"],avoidIfInjury:["elbows"],muscleGroups:["biceps"]}]},lower:{quad:[{name:"Barbell Squat",equipment:["barbell"],avoidIfInjury:["knees","lower_back"],muscleGroups:["quads","glutes"]},{name:"Leg Press",equipment:["machine"],avoidIfInjury:["knees"],muscleGroups:["quads","glutes"]},{name:"Bulgarian Split Squat",equipment:["dumbbells"],avoidIfInjury:["knees"],muscleGroups:["quads","glutes"]}],hinge:[{name:"Romanian Deadlift",equipment:["barbell"],avoidIfInjury:["lower_back"],muscleGroups:["hamstrings","glutes"]},{name:"Leg Curl",equipment:["machine"],avoidIfInjury:["knees"],muscleGroups:["hamstrings"]},{name:"Barbell Hip Thrust",equipment:["barbell"],avoidIfInjury:[],muscleGroups:["glutes"]}],isolation:[{name:"Leg Extension",equipment:["machine"],avoidIfInjury:["knees"],muscleGroups:["quads"]},{name:"Standing Calf Raise",equipment:["machine","bodyweight"],avoidIfInjury:[],muscleGroups:["calves"]}]},fullBody:{movements:[{name:"Barbell Squat",equipment:["barbell"],avoidIfInjury:["knees","lower_back"],muscleGroups:["quads","glutes"]},{name:"Barbell Bench Press",equipment:["barbell"],avoidIfInjury:["shoulders"],muscleGroups:["chest","triceps"]},{name:"Barbell Row",equipment:["barbell"],avoidIfInjury:["lower_back"],muscleGroups:["back","biceps"]},{name:"Romanian Deadlift",equipment:["barbell"],avoidIfInjury:["lower_back"],muscleGroups:["hamstrings","glutes"]},{name:"Overhead Press",equipment:["barbell","dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["shoulders"]},{name:"Pull-Up",equipment:["bodyweight"],avoidIfInjury:["shoulders"],muscleGroups:["back","biceps"]},{name:"Goblet Squat",equipment:["dumbbells","kettlebell"],avoidIfInjury:["knees"],muscleGroups:["quads","glutes"]},{name:"Dumbbell Bench Press",equipment:["dumbbells"],avoidIfInjury:["shoulders"],muscleGroups:["chest","triceps"]},{name:"Dumbbell Row",equipment:["dumbbells"],avoidIfInjury:["lower_back"],muscleGroups:["back","biceps"]}]}};function c(e){switch(e){case"full_gym":return["barbell","dumbbells","cable","machine","bodyweight","pull-up bar","kettlebell"];case"home_gym":return["dumbbells","barbell","bodyweight","pull-up bar","kettlebell"];case"minimal":return["dumbbells","bodyweight"];case"bodyweight":return["bodyweight","pull-up bar"];default:return["barbell","dumbbells","cable","machine","bodyweight","pull-up bar"]}}function d(e,s,r){let n=e.equipment.some(e=>s.includes(e)),a=(e.avoidIfInjury||[]).some(e=>r.includes(e));return n&&!a}function b(e,s){let r={sets:3,repsMin:8,repsMax:12,rpe:7.5,rest:90};return"beginner"===e?(r.sets=3,r.repsMin=8,r.repsMax=12,r.rest=90):"intermediate"===e?(r.sets=4,r.repsMin=6,r.repsMax=12,r.rest=120):"advanced"===e&&(r.sets=4,r.repsMin=5,r.repsMax=10,r.rest=150),"strength"===s?(r.repsMin=3,r.repsMax=6,r.rpe=8.5,r.rest=180):"endurance"===s?(r.repsMin=15,r.repsMax=20,r.rpe=6.5,r.rest=60):"muscle_gain"===s?(r.repsMin=8,r.repsMax=15,r.rpe=8,r.rest=90):"fat_loss"===s&&(r.repsMin=10,r.repsMax=15,r.rpe=7.5,r.rest=60),r}function h(e,s,r,n){return e.filter(e=>d(e,s,r)&&!n.has(e.name))[0]||null}function g(e,s,r){return{name:e.name,sets:s.sets,repsMin:s.repsMin,repsMax:s.repsMax,rpe:s.rpe,restSeconds:s.rest,muscleGroups:e.muscleGroups,equipment:[],...r}}var y=r(40740);let f="force-dynamic";async function I(e){let s=await (0,i.getCurrentUserId)();if(!s)return t.NextResponse.json({error:"Unauthorized"},{status:401});try{var r;let n,a,l;let{name:u,age:i,gender:f,weight:I,height:q,goal:w,customGoal:v,goalDescription:G,experienceLevel:x,trainingDays:j,sessionLength:k,equipment:M,limitations:P,sport:S,unitSystem:_,nutritionGoal:B,raceGoals:D,trainingVolume:L}=await e.json(),C=Array.isArray(M)?M:M?[M]:[],R=Array.isArray(P)?P:P?[P]:[],O=(r=f||"male","male"===r?10*I+6.25*q-5*i+5:10*I+6.25*q-5*i-161),N=Math.round(O*(j<=2?1.375:j<=4?1.55:j<=5?1.725:1.9)),A=function(e,s,r){let n;switch(s){case"fat_loss":n=e-400;break;case"muscle_gain":n=e+300;break;case"strength":n=e+100;break;default:n=e}n=Math.max(n,1500);let a=Math.round(2.2046*r*1),l=Math.round(.25*n/9),u=Math.round((n-4*a-9*l)/4);return{calories:Math.round(n),protein:a,carbs:Math.max(0,u),fat:l}}(N,B||w,I);await o.prisma.profile.upsert({where:{userId:s},update:{name:u,age:i,gender:f,weight:I,height:q,goal:w,customGoal:v||null,goalDescription:G||null,experienceLevel:x,trainingDays:j,sessionLength:k||null,equipment:JSON.stringify(C),injuries:JSON.stringify(R),limitations:JSON.stringify(R),sport:S,unitSystem:_,nutritionGoal:B||null,bmr:O,tdee:N,targetCalories:A.calories,targetProtein:A.protein,targetCarbs:A.carbs,targetFat:A.fat,onboardingDone:!0,raceGoals:D?.length?D:void 0,trainingVolume:L||null},create:{userId:s,name:u,age:i,gender:f,weight:I,height:q,goal:w,customGoal:v||null,goalDescription:G||null,experienceLevel:x,trainingDays:j,sessionLength:k||null,equipment:JSON.stringify(C),injuries:JSON.stringify(R),limitations:JSON.stringify(R),sport:S,unitSystem:_,nutritionGoal:B||null,bmr:O,tdee:N,targetCalories:A.calories,targetProtein:A.protein,targetCarbs:A.carbs,targetFat:A.fat,onboardingDone:!0,raceGoals:D?.length?D:void 0,trainingVolume:L||null}}),await o.prisma.trainingPlan.findUnique({where:{userId:s}})&&await o.prisma.trainingPlan.delete({where:{userId:s}});try{let e=Array.isArray(D)&&D.length>0?D[0]:null,r={name:u,primaryGoal:w,customGoal:v||void 0,sport:S||void 0,experienceLevel:x,trainingDaysPerWeek:j,sessionLength:k||60,equipment:C,limitations:R,age:i,weight:I,height:q,raceGoal:e?.type,raceDate:e?.date,goalDescription:G||void 0},t=await (0,y.bD)(r);a=function(e,s){let r=`${e} ${s}`.toLowerCase();return/push.pull.leg|ppl/i.test(r)?"ppl":/upper.lower/i.test(r)?"upper_lower":/full.body/i.test(r)?"full_body":"custom"}(t.programName,t.programDescription),l=({muscle_gain:"hypertrophy",strength:"strength",fat_loss:"fat_loss",endurance:"endurance",triathlon:"sport_specific",general:"general",sport_performance:"sport_specific",longevity:"general",compete:"sport_specific",hybrid:"hypertrophy",custom:"general"})[w]||"general",n=t.programName;let p=t.weeklyStructure.filter(e=>"rest"!==e.type&&e.workout&&e.workout.exercises.length>0);await o.prisma.trainingPlan.create({data:{userId:s,name:n,type:l,split:a,daysPerWeek:j,currentWeek:1,mesocycleLength:4,deloadFrequency:4,workouts:{create:p.map((e,s)=>({name:e.workout.name,order:s+1,exercises:{create:e.workout.exercises.map((e,s)=>{let{min:r,max:n}=function(e){let s=e?.match(/^(\d+)\s*[-â€“]\s*(\d+)$/);if(s)return{min:parseInt(s[1]),max:parseInt(s[2])};let r=e?.match(/^(\d+)$/);return r?{min:parseInt(r[1]),max:parseInt(r[1])}:/amrap/i.test(e||"")?{min:1,max:99}:{min:8,max:12}}(e.reps);return{order:s+1,sets:e.sets,repsMin:r,repsMax:n,restSeconds:e.rest||90,exercise:{connectOrCreate:{where:{name:e.name},create:{name:e.name,category:"compound",muscleGroups:JSON.stringify(e.muscleGroups||[]),secondaryMuscles:JSON.stringify([]),equipment:JSON.stringify(e.equipment?[e.equipment]:[]),fatigueRating:1.5,skillLevel:"intermediate",avoidIfInjury:JSON.stringify([]),formTips:JSON.stringify(e.notes?[e.notes]:[])}}}}})}}))}}})}catch(t){console.warn("AI program generation failed, using template:",t);let e=C.includes("full_gym")?"full_gym":C.includes("barbell_home")||C.includes("home_gym")?"home_gym":C.includes("dumbbells")?"minimal":C.includes("bodyweight")?"bodyweight":"full_gym",r="complete_beginner"===x?"beginner":"athlete"===x?"advanced":x,u=function(e){var s,r;let n,a,l;let u=(s=e.trainingDays,r=e.experienceLevel,s<=3?"full_body":4===s?"upper_lower":s>=5?"beginner"===r?"upper_lower":"ppl":"full_body");return"ppl"===u?(n=function(e){let s=c(e.equipment),r=b(e.experienceLevel,e.goal),n=new Set;function a(r){return h(r,s,e.injuries,n)}let l=m.push,u=m.pull,t=m.legs,i=[],o=a(l.compound);o&&(n.add(o.name),i.push(g(o,r,{sets:r.sets})));let p=a(l.compound);p&&(n.add(p.name),i.push(g(p,r)));let d=a(l.compound.filter(e=>e.muscleGroups.includes("shoulders")));d&&(n.add(d.name),i.push(g(d,r,{sets:3})));let y=a(l.isolation.filter(e=>e.name.includes("Lateral")));y&&(n.add(y.name),i.push(g(y,{...r,sets:3,repsMin:12,repsMax:20},{restSeconds:60})));let f=a(l.isolation.filter(e=>e.muscleGroups.includes("triceps")));f&&(n.add(f.name),i.push(g(f,{...r,sets:3,repsMin:10,repsMax:15},{restSeconds:60})));let I=a(l.isolation.filter(e=>e.muscleGroups.includes("chest")));I&&(n.add(I.name),i.push(g(I,{...r,sets:3,repsMin:12,repsMax:15},{restSeconds:60})));let q=[],w=a(u.compound);w&&(n.add(w.name),q.push(g(w,r)));let v=a(u.compound);v&&(n.add(v.name),q.push(g(v,r)));let G=a(u.isolation.filter(e=>e.name.includes("Face")));G&&(n.add(G.name),q.push(g(G,{...r,sets:3,repsMin:15,repsMax:20},{restSeconds:60})));let x=a(u.isolation.filter(e=>e.muscleGroups.includes("biceps")));x&&(n.add(x.name),q.push(g(x,{...r,sets:3,repsMin:10,repsMax:15},{restSeconds:60})));let j=a(u.isolation.filter(e=>e.name.includes("Hammer")));j&&(n.add(j.name),q.push(g(j,{...r,sets:3,repsMin:10,repsMax:15},{restSeconds:60})));let k=[],M=a(t.compound.filter(e=>e.muscleGroups.includes("quads")));M&&(n.add(M.name),k.push(g(M,{...r,repsMin:Math.max(5,r.repsMin)})));let P=a(t.compound.filter(e=>e.muscleGroups.includes("hamstrings")));P&&(n.add(P.name),k.push(g(P,r)));let S=a(t.compound.filter(e=>!e.muscleGroups.includes("hamstrings")));S&&(n.add(S.name),k.push(g(S,r,{sets:3})));let _=a(t.isolation.filter(e=>e.muscleGroups.includes("quads")));_&&(n.add(_.name),k.push(g(_,{...r,sets:3,repsMin:12,repsMax:15},{restSeconds:60})));let B=a(t.isolation.filter(e=>e.muscleGroups.includes("hamstrings")));B&&(n.add(B.name),k.push(g(B,{...r,sets:3,repsMin:10,repsMax:15},{restSeconds:60})));let D=a(t.isolation.filter(e=>e.muscleGroups.includes("calves")));D&&(n.add(D.name),k.push(g(D,{...r,sets:4,repsMin:12,repsMax:20},{restSeconds:45})));let L=[{name:"Push A",order:1,exercises:i},{name:"Pull A",order:2,exercises:q},{name:"Legs A",order:3,exercises:k}];return e.trainingDays>=6?L.push({name:"Push B",order:4,exercises:i.slice(0,4)},{name:"Pull B",order:5,exercises:q.slice(0,4)},{name:"Legs B",order:6,exercises:k.slice(0,4)}):5===e.trainingDays&&L.push({name:"Push B",order:4,exercises:i.slice(0,4)},{name:"Pull B",order:5,exercises:q.slice(0,4)}),L}(e),a="strength"===e.goal?"Strength PPL":"Hypertrophy PPL",l="strength"===e.goal?"strength":"hypertrophy"):"upper_lower"===u?(n=function(e){let s=c(e.equipment),r=b(e.experienceLevel,e.goal),n=new Set;function a(r){return h(r,s,e.injuries,n)}let l=m.upper,u=m.lower,t=[],i=a(l.push);i&&(n.add(i.name),t.push(g(i,r)));let o=a(l.pull);o&&(n.add(o.name),t.push(g(o,r)));let p=a(l.push.filter(e=>e.muscleGroups.includes("shoulders")));p&&(n.add(p.name),t.push(g(p,r,{sets:3})));let d=a(l.pull.filter(e=>e.muscleGroups.includes("back")));d&&(n.add(d.name),t.push(g(d,r,{sets:3})));let y=a(l.push.filter(e=>e.muscleGroups.includes("triceps")));y&&(n.add(y.name),t.push(g(y,{...r,sets:3,repsMin:10,repsMax:15})));let f=a(l.pull.filter(e=>e.muscleGroups.includes("biceps")));f&&(n.add(f.name),t.push(g(f,{...r,sets:3,repsMin:10,repsMax:15})));let I=[],q=a(u.quad);q&&(n.add(q.name),I.push(g(q,r)));let w=a(u.hinge);w&&(n.add(w.name),I.push(g(w,r)));let v=a(u.isolation.filter(e=>e.muscleGroups.includes("quads")));v&&(n.add(v.name),I.push(g(v,{...r,sets:3,repsMin:12,repsMax:15})));let G=a(u.isolation.filter(e=>e.muscleGroups.includes("calves")));G&&(n.add(G.name),I.push(g(G,{...r,sets:3,repsMin:15,repsMax:20})));let x=[{name:"Upper A",order:1,exercises:t},{name:"Lower A",order:2,exercises:I},{name:"Upper B",order:3,exercises:t.slice(0,5)},{name:"Lower B",order:4,exercises:I.slice(0,3)}];return 5===e.trainingDays&&x.push({name:"Upper C",order:5,exercises:t.slice(0,4)}),x}(e),a="Upper/Lower Split",l="hypertrophy"):(n=function(e){let s=c(e.equipment),r=b(e.experienceLevel,e.goal),n=new Set,a=m.fullBody.movements.filter(r=>d(r,s,e.injuries)&&!n.has(r.name)),l=[];for(let e of a.slice(0,5))n.add(e.name),l.push(g(e,{...r,sets:3}));let u=[];for(let e of[...a].reverse().filter(e=>!new Set(l.map(e=>e.name)).has(e.name)).slice(0,4))u.push(g(e,{...r,sets:3}));for(let e of l.slice(0,2))u.find(s=>s.name===e.name)||u.push({...e});let t=[{name:"Full Body A",order:1,exercises:l},{name:"Full Body B",order:2,exercises:u}];return e.trainingDays>=3&&t.push({name:"Full Body C",order:3,exercises:l.slice(0,4)}),t}(e),a="Full Body Program",l="general"),{name:a,type:l,split:u,daysPerWeek:e.trainingDays,workouts:n,notes:`${({ppl:"Push/Pull/Legs",upper_lower:"Upper/Lower",full_body:"Full Body"})[u]} split, ${e.trainingDays}x/week, optimized for ${e.goal.replace(/_/g," ")}`}}({goal:["triathlon","sport_performance","longevity","compete","hybrid","custom"].includes(w)?"general":w,experienceLevel:r,trainingDays:j,equipment:e,injuries:R,sport:S,gender:f});n=u.name,a=u.split,l=u.type,await o.prisma.trainingPlan.create({data:{userId:s,name:n,type:l,split:a,daysPerWeek:u.daysPerWeek,currentWeek:1,mesocycleLength:4,deloadFrequency:4,workouts:{create:u.workouts.map(e=>({name:e.name,order:e.order,exercises:{create:e.exercises.map((e,s)=>({order:s+1,sets:e.sets,repsMin:e.repsMin,repsMax:e.repsMax,rpe:e.rpe,restSeconds:e.restSeconds,exercise:{connectOrCreate:{where:{name:e.name},create:{name:e.name,category:"compound",muscleGroups:JSON.stringify(e.muscleGroups),secondaryMuscles:JSON.stringify([]),equipment:JSON.stringify(e.equipment||[]),fatigueRating:1.5,skillLevel:"intermediate",avoidIfInjury:JSON.stringify([]),formTips:JSON.stringify([])}}}}))}}))}}})}let F=await (0,p.Gg)(),J=t.NextResponse.json({success:!0,plan:{name:n,split:a,daysPerWeek:j},macros:A});if(F){let e=await (0,p.ed)({userId:F.userId,email:F.email,onboardingDone:!0});J.cookies.set((0,p.AX)(e))}return J}catch(e){return console.error("Onboarding error:",e),t.NextResponse.json({error:"Failed to complete onboarding"},{status:500})}}let q=new a.AppRouteRouteModule({definition:{kind:l.x.APP_ROUTE,page:"/api/user/onboarding/route",pathname:"/api/user/onboarding",filename:"route",bundlePath:"app/api/user/onboarding/route"},resolvedPagePath:"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\api\\user\\onboarding\\route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:w,staticGenerationAsyncStorage:v,serverHooks:G}=q,x="/api/user/onboarding/route";function j(){return(0,u.patchFetch)({serverHooks:G,staticGenerationAsyncStorage:v})}}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),n=s.X(0,[8948,5972,3112,213,1679,740],()=>r(67311));module.exports=n})();