"use strict";(()=>{var e={};e.id=3454,e.ids=[3454],e.modules={53524:e=>{e.exports=require("@prisma/client")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},38301:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l});var a={};r.r(a),r.d(a,{DELETE:()=>p,GET:()=>u});var s=r(49303),n=r(88716),o=r(60670),i=r(87070);async function u(){let e=process.env.STRAVA_CLIENT_ID,t=process.env.STRAVA_REDIRECT_URI,r=`https://www.strava.com/oauth/authorize?client_id=${e}&redirect_uri=${t}&response_type=code&scope=activity:read_all`;return i.NextResponse.redirect(r)}async function p(){let{getCurrentUserId:e}=await Promise.all([r.e(3112),r.e(1165)]).then(r.bind(r,61165)),{prisma:t}=await r.e(3538).then(r.bind(r,13538)),a=await e();return a?(await t.user.update({where:{id:a},data:{stravaConnected:!1,stravaAccessToken:null,stravaRefreshToken:null,stravaAthleteId:null}}),i.NextResponse.json({success:!0})):i.NextResponse.json({error:"Unauthorized"},{status:401})}let c=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/strava/auth/route",pathname:"/api/strava/auth",filename:"route",bundlePath:"app/api/strava/auth/route"},resolvedPagePath:"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\api\\strava\\auth\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:h}=c,v="/api/strava/auth/route";function x(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[8948,5972],()=>r(38301));module.exports=a})();