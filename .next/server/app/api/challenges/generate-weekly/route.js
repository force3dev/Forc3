"use strict";(()=>{var e={};e.id=9460,e.ids=[9460,3538],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},25167:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>w,requestAsyncStorage:()=>g,routeModule:()=>d,serverHooks:()=>D,staticGenerationAsyncStorage:()=>m});var r={};a.r(r),a.d(r,{GET:()=>c,dynamic:()=>u});var n=a(49303),s=a(88716),i=a(60670),o=a(87070),l=a(13538);let u="force-dynamic",p=[{title:"Run 20km This Week \uD83C\uDFC3",type:"run_distance",target:20,unit:"km",description:"Log 20km of running across any sessions this week."},{title:"Complete 4 Workouts \uD83D\uDCAA",type:"workout_count",target:4,unit:"workouts",description:"Complete 4 strength or cardio workouts this week."},{title:"Train 5 Days in a Row \uD83D\uDD25",type:"streak",target:5,unit:"days",description:"Build a 5-day training streak."},{title:"Lift 10,000 lbs Total \uD83C\uDFCBï¸",type:"lift_volume",target:1e4,unit:"lbs",description:"Accumulate 10,000 lbs of total training volume."}];async function c(){let e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay()+1),t.setHours(0,0,0,0);let a=new Date(t);a.setDate(t.getDate()+6),a.setHours(23,59,59,999),await l.prisma.challenge.updateMany({where:{endDate:{lt:t}},data:{isActive:!1}});let r=await l.prisma.challenge.count({where:{startDate:{gte:t,lte:a}}});if(r>0)return o.NextResponse.json({message:"Already generated",count:r});let n=await l.prisma.challenge.createMany({data:p.map(e=>({...e,startDate:t,endDate:a,isActive:!0}))});return o.NextResponse.json({created:n.count})}let d=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/challenges/generate-weekly/route",pathname:"/api/challenges/generate-weekly",filename:"route",bundlePath:"app/api/challenges/generate-weekly/route"},resolvedPagePath:"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\api\\challenges\\generate-weekly\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:D}=d,h="/api/challenges/generate-weekly/route";function w(){return(0,i.patchFetch)({serverHooks:D,staticGenerationAsyncStorage:m})}},13538:(e,t,a)=>{a.d(t,{prisma:()=>n});var r=a(53524);let n=globalThis.prisma||new r.PrismaClient({log:["warn","error"]})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[8948,5972],()=>a(25167));module.exports=r})();