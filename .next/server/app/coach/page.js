(()=>{var e={};e.id=6160,e.ids=[6160],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},90896:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(87211),s(53781),s(22824),s(35866);var r=s(23191),a=s(88716),n=s(37922),l=s.n(n),o=s(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let c=["",{children:["coach",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,87211)),"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\coach\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,53781)),"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\layout.tsx"],template:[()=>Promise.resolve().then(s.bind(s,22824)),"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\coach\\page.tsx"],x="/coach/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/coach/page",pathname:"/coach",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},21065:(e,t,s)=>{Promise.resolve().then(s.bind(s,99299))},35047:(e,t,s)=>{"use strict";var r=s(77389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},99299:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(10326),a=s(17577),n=s(35047),l=s(66317);function o({feature:e,description:t,teaserText:s,onClose:a}){let l=(0,n.useRouter)();return r.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"w-full max-w-sm bg-[#111111] border border-[#262626] rounded-t-3xl sm:rounded-3xl p-6 space-y-5 shadow-2xl",children:[(0,r.jsxs)("div",{className:"text-center space-y-2",children:[r.jsx("div",{className:"text-4xl",children:"\uD83D\uDD12"}),r.jsx("h2",{className:"text-xl font-bold",children:e}),t&&r.jsx("p",{className:"text-sm text-neutral-400",children:t})]}),s&&(0,r.jsxs)("div",{className:"relative bg-[#1a1a1a] border border-[#262626] rounded-xl p-4 overflow-hidden",children:[r.jsx("p",{className:"text-sm text-neutral-300 blur-sm select-none leading-relaxed",children:s}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-xs font-semibold text-neutral-400 bg-[#1a1a1a]/90 px-3 py-1 rounded-full border border-[#333]",children:"Preview locked"})})]}),(0,r.jsxs)("div",{className:"bg-[#0a0a0a] border border-[#1e1e1e] rounded-xl p-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-neutral-400",children:"Monthly"}),(0,r.jsxs)("span",{className:"font-bold text-white",children:["$14.99",r.jsx("span",{className:"text-neutral-500 font-normal",children:"/mo"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-neutral-400",children:"Yearly"}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("span",{className:"font-bold text-[#00C853]",children:"$99/yr"}),r.jsx("span",{className:"text-xs text-neutral-500 ml-1",children:"Save 45%"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("button",{onClick:()=>l.push("/upgrade"),className:"w-full py-4 bg-[#0066FF] text-white font-bold rounded-xl hover:bg-[#0052CC] transition-colors",children:"Upgrade to Premium"}),r.jsx("button",{onClick:a,className:"w-full py-3 text-neutral-500 text-sm hover:text-neutral-300 transition-colors",children:"Maybe Later"})]})]})})}let i=["How's my progress this week?","Should I increase weight today?","Am I eating enough protein?","I feel tired — rest day or push through?","Why did you program these exercises?"];function c(){return r.jsx("div",{className:"flex gap-1 py-1",children:[0,1,2].map(e=>r.jsx("div",{className:"w-2 h-2 rounded-full bg-neutral-500 animate-bounce",style:{animationDelay:`${.15*e}s`}},e))})}function d({msg:e}){let t="user"===e.role;return(0,r.jsxs)("div",{className:`flex ${t?"justify-end":"justify-start"}`,children:[!t&&r.jsx("div",{className:"w-8 h-8 rounded-full bg-[#0066FF] flex items-center justify-center text-sm font-bold mr-2 flex-shrink-0 mt-0.5",children:"AI"}),r.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 text-sm leading-relaxed whitespace-pre-wrap ${t?"bg-[#0066FF] text-white rounded-tr-sm":"bg-[#1a1a1a] text-white border border-[#262626] rounded-tl-sm"}`,children:e.content})]})}function x(){(0,n.useRouter)();let[e,t]=(0,a.useState)([]),[s,x]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,b]=(0,a.useState)(null),[j,y]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),N=(0,a.useRef)(null),w=(0,a.useRef)(null);(0,a.useCallback)(()=>{N.current?.scrollIntoView({behavior:"smooth"})},[]);let k=(0,a.useCallback)(async e=>{let r=(e||s).trim();if(!r||u)return;x(""),b(null);let a={id:crypto.randomUUID(),role:"user",content:r};t(e=>[...e,a]),m(!0);try{let e=await fetch("/api/coach/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:r})}),s=await e.json();if(!e.ok){if("limit_reached"===s.error){t(e=>e.slice(0,-1)),y(!0);return}b(s.message||s.error||"Coach unavailable"),t(e=>e.slice(0,-1));return}let a={id:crypto.randomUUID(),role:"assistant",content:s.response};t(e=>[...e,a]),"number"==typeof s.remaining&&v(s.remaining)}catch{b("Network error — check your connection"),t(e=>e.slice(0,-1))}finally{m(!1),w.current?.focus()}},[s,u]),C=async()=>{confirm("Clear conversation history?")&&(await fetch("/api/coach/history",{method:"DELETE"}),t([]))};return(0,r.jsxs)("main",{className:"min-h-screen bg-black text-white flex flex-col pb-20",children:[j&&r.jsx(o,{feature:"Unlimited AI Coaching",onClose:()=>y(!1)}),(0,r.jsxs)("header",{className:"px-5 pt-6 pb-3 border-b border-[#1a1a1a] flex items-center justify-between flex-shrink-0",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs font-bold tracking-widest text-[#0066FF]",children:"FORC3"}),r.jsx("h1",{className:"text-xl font-bold",children:"AI Coach"}),null!==g&&g<=1?(0,r.jsxs)("p",{className:"text-xs text-amber-400",children:[g," free message left today"]}):r.jsx("p",{className:"text-xs text-neutral-500",children:"Personalized — knows your data"})]}),e.length>0&&r.jsx("button",{onClick:C,className:"text-xs text-neutral-600 hover:text-neutral-400 transition-colors",children:"Clear"})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4 min-h-0",children:[!h&&r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-6 h-6 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}),h&&0===e.length&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center px-4",children:[r.jsx("div",{className:"text-5xl mb-4",children:"\uD83C\uDFCB️"}),r.jsx("h2",{className:"text-xl font-bold mb-2",children:"Your AI Coach"}),r.jsx("p",{className:"text-neutral-500 text-sm mb-6 max-w-xs",children:"Ask me anything about your training, nutrition, or recovery. I know your data."}),r.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:i.map(e=>r.jsx("button",{onClick:()=>k(e),className:"bg-[#141414] border border-[#262626] text-neutral-300 px-3 py-2 rounded-full text-sm hover:border-[#0066FF]/50 hover:text-white transition-all",children:e},e))})]}),e.map(e=>r.jsx(d,{msg:e},e.id)),u&&(0,r.jsxs)("div",{className:"flex justify-start",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-[#0066FF] flex items-center justify-center text-sm font-bold mr-2 flex-shrink-0",children:"AI"}),r.jsx("div",{className:"bg-[#1a1a1a] border border-[#262626] rounded-2xl rounded-tl-sm px-4 py-3",children:r.jsx(c,{})})]}),f&&(0,r.jsxs)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl px-4 py-3 text-sm text-red-400",children:[f,f.includes("CLAUDE_API_KEY")&&r.jsx("div",{className:"mt-2 text-xs text-neutral-500",children:"Add your API key to .env to enable the AI coach."})]}),r.jsx("div",{ref:N})]}),h&&e.length>0&&e.length<=4&&r.jsx("div",{className:"px-4 pb-2 flex gap-2 overflow-x-auto",children:i.slice(0,3).map(e=>r.jsx("button",{onClick:()=>k(e),className:"flex-shrink-0 bg-[#141414] border border-[#262626] text-neutral-400 px-3 py-1.5 rounded-full text-xs hover:text-white transition-colors",children:e},e))}),(0,r.jsxs)("div",{className:"px-4 py-3 border-t border-[#1a1a1a] flex gap-2 flex-shrink-0",children:[r.jsx("input",{ref:w,type:"text",value:s,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&k(),placeholder:"Ask your coach anything...",className:"flex-1 bg-[#141414] border border-[#262626] text-white rounded-full px-4 py-3 text-sm outline-none focus:border-[#0066FF] transition-colors placeholder:text-neutral-600"}),r.jsx("button",{onClick:()=>k(),disabled:u||!s.trim(),className:"w-12 h-12 rounded-full bg-[#0066FF] flex items-center justify-center text-white hover:bg-[#0052CC] transition-colors disabled:opacity-40 disabled:cursor-not-allowed flex-shrink-0",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]}),r.jsx(l.Z,{active:"coach"})]})}},87211:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var r=s(68570);let a=(0,r.createProxy)(String.raw`C:\Users\Geric\Desktop\forc3\src\app\coach\page.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let o=(0,r.createProxy)(String.raw`C:\Users\Geric\Desktop\forc3\src\app\coach\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,6313,434,4248],()=>s(90896));module.exports=r})();