(()=>{var e={};e.id=6583,e.ids=[6583],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},24843:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(90501),t(53781),t(22824),t(35866);var r=t(23191),a=t(88716),n=t(37922),l=t.n(n),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["discover",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90501)),"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\discover\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,53781)),"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\layout.tsx"],template:[()=>Promise.resolve().then(t.bind(t,22824)),"C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\Geric\\Desktop\\forc3\\src\\app\\discover\\page.tsx"],u="/discover/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/discover/page",pathname:"/discover",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},36302:(e,s,t)=>{Promise.resolve().then(t.bind(t,33599))},35047:(e,s,t)=>{"use strict";var r=t(77389);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},33599:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(10326),a=t(17577),n=t(35047),l=t(66317),i=t(1189);function o({activity:e}){let s=(0,n.useRouter)(),t=e.data,a=e.user.displayName||e.user.username||"Someone",l=(()=>{switch(e.type){case"workout_completed":return(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm",children:[r.jsx("span",{className:"font-semibold",children:a})," ","completed"," ",r.jsx("span",{className:"text-[#0066FF]",children:String(t.workoutName||"a workout")})]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-1.5 text-xs text-neutral-500",children:[t.duration&&(0,r.jsxs)("span",{children:[String(t.duration)," min"]}),t.exercises&&(0,r.jsxs)("span",{children:[String(t.exercises)," exercises"]}),Number(t.prs)>0&&(0,r.jsxs)("span",{className:"text-[#FFB300]",children:["\uD83C\uDFC6 ",String(t.prs)," PRs"]})]})]});case"pr_hit":return(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm",children:[r.jsx("span",{className:"font-semibold",children:a})," ","hit a new PR on"," ",r.jsx("span",{className:"text-[#0066FF]",children:String(t.exercise||"")})]}),t.weight&&t.reps&&(0,r.jsxs)("p",{className:"text-xl font-bold mt-1",children:[String(t.weight)," lbs \xd7 ",String(t.reps)]})]});case"streak_milestone":return(0,r.jsxs)("p",{className:"text-sm",children:[r.jsx("span",{className:"font-semibold",children:a})," ","reached a"," ",(0,r.jsxs)("span",{className:"text-orange-400 font-bold",children:[String(t.days)," day streak \uD83D\uDD25"]})]});case"cardio_completed":return(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm",children:[r.jsx("span",{className:"font-semibold",children:a})," ","completed a"," ",r.jsx("span",{className:"text-[#0066FF] capitalize",children:String(t.cardioType||"cardio")})," ","session"]}),(0,r.jsxs)("div",{className:"flex gap-3 mt-1.5 text-xs text-neutral-500",children:[t.duration&&(0,r.jsxs)("span",{children:[Math.round(Number(t.duration)/60)," min"]}),t.distance&&(0,r.jsxs)("span",{children:[Number(t.distance).toFixed(1)," mi"]}),t.calories&&(0,r.jsxs)("span",{children:[Math.round(Number(t.calories))," cal"]})]})]});case"started_program":return(0,r.jsxs)("p",{className:"text-sm",children:[r.jsx("span",{className:"font-semibold",children:a})," ","started training on FORC3 \uD83D\uDE80"]});default:return null}})();return l?r.jsx("div",{className:"px-4 py-4 border-b border-[#1a1a1a]",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("button",{onClick:()=>e.user.username&&s.push(`/user/${e.user.username}`),children:r.jsx(i.Z,{user:{avatarUrl:e.user.avatarUrl,name:e.user.displayName||e.user.username||"Athlete"}})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[l,r.jsx("p",{className:"text-xs text-neutral-600 mt-1.5",children:function(e){let s=Math.floor((Date.now()-new Date(e).getTime())/6e4);if(s<1)return"just now";if(s<60)return`${s}m ago`;let t=Math.floor(s/60);return t<24?`${t}h ago`:`${Math.floor(t/24)}d ago`}(e.createdAt)})]})]})}):null}function c({user:e,onFollowToggle:s}){let t=(0,n.useRouter)();return(0,r.jsxs)("div",{className:"flex items-center gap-3 py-3",children:[r.jsx("button",{onClick:()=>e.username&&t.push(`/user/${e.username}`),children:r.jsx(i.Z,{user:{avatarUrl:e.avatarUrl,name:e.displayName||e.username||"Athlete"}})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",onClick:()=>e.username&&t.push(`/user/${e.username}`),children:[r.jsx("div",{className:"font-semibold text-sm truncate",children:e.displayName||e.username}),(0,r.jsxs)("div",{className:"text-xs text-neutral-500",children:[e.username?`@${e.username}`:""," \xb7 ",e.followerCount," followers"]})]}),r.jsx("button",{onClick:()=>s(e.id),className:`px-3 py-1.5 rounded-xl text-xs font-bold transition-all ${e.isFollowing?"border border-[#262626] text-neutral-400":"bg-[#0066FF] text-white"}`,children:e.isFollowing?"Following":e.isPrivate?"Request":"Follow"})]})}function d({workout:e}){let s=(0,n.useRouter)();return(0,r.jsxs)("div",{className:"bg-[#141414] border border-[#262626] rounded-2xl p-4 cursor-pointer hover:border-[#0066FF]/30 transition-colors",onClick:()=>s.push(`/user/${e.user.username}`),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[r.jsx(i.Z,{user:{avatarUrl:e.user.avatarUrl,name:e.user.displayName||e.user.username||"Athlete"}}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm font-semibold",children:e.user.displayName||e.user.username}),r.jsx("div",{className:"text-xs text-neutral-500",children:e.user.username?`@${e.user.username}`:""})]})]}),r.jsx("h3",{className:"font-bold text-base mb-1",children:e.title||e.workout.name}),e.description&&r.jsx("p",{className:"text-neutral-500 text-xs mb-3 line-clamp-2",children:e.description}),(0,r.jsxs)("div",{className:"flex gap-4 text-xs text-neutral-500",children:[(0,r.jsxs)("span",{children:["❤️ ",e._count.likes]}),(0,r.jsxs)("span",{children:["\uD83D\uDCAC ",e._count.comments]}),(0,r.jsxs)("span",{children:["\uD83D\uDCCB ",e._count.copies," copies"]})]})]})}function u(){let[e,s]=(0,a.useState)(""),[t,n]=(0,a.useState)([]),[i,u]=(0,a.useState)([]),[x,m]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[f,j]=(0,a.useState)(!1),[g,b]=(0,a.useState)("feed"),[v,N]=(0,a.useState)(!1),w=(0,a.useRef)(void 0),y=e=>{if(s(e),clearTimeout(w.current),e.length<2){n([]);return}N(!0),w.current=setTimeout(async()=>{let s=await fetch(`/api/social/search?q=${encodeURIComponent(e)}`);n((await s.json()).users||[]),N(!1)},400)},F=async e=>{let s=[...t,...x].find(s=>s.id===e);if(s){if(s.isFollowing){await fetch("/api/social/follow",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});let s=s=>s.map(s=>s.id===e?{...s,isFollowing:!1}:s);n(s),m(s)}else{await fetch("/api/social/follow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});let s=s=>s.map(s=>s.id===e?{...s,isFollowing:!0}:s);n(s),m(s)}}};return(0,r.jsxs)("main",{className:"min-h-screen bg-black text-white pb-24",children:[(0,r.jsxs)("header",{className:"px-5 pt-8 pb-4",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Discover"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-500 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),r.jsx("input",{type:"text",value:e,onChange:e=>y(e.target.value),placeholder:"Search athletes...",className:"w-full bg-[#141414] border border-[#262626] rounded-xl pl-10 pr-4 py-3 text-sm focus:border-[#0066FF] focus:outline-none"})]})]}),e.length>1?(0,r.jsxs)("div",{className:"px-5",children:[r.jsx("p",{className:"text-xs text-neutral-500 mb-3 uppercase tracking-wide",children:"Athletes"}),v?r.jsx("div",{className:"flex justify-center py-8",children:r.jsx("div",{className:"w-5 h-5 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):0===t.length?(0,r.jsxs)("p",{className:"text-neutral-500 text-sm py-8 text-center",children:['No athletes found for "',e,'"']}):r.jsx("div",{className:"divide-y divide-[#1a1a1a]",children:t.map(e=>r.jsx(c,{user:e,onFollowToggle:F},e.id))})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"flex border-b border-[#1a1a1a] mb-4",children:["feed","trending","users"].map(e=>r.jsx("button",{onClick:()=>b(e),className:`flex-1 py-3 text-sm font-semibold capitalize transition-colors ${g===e?"text-white border-b-2 border-[#0066FF]":"text-neutral-500"}`,children:"feed"===e?"Feed":"trending"===e?"Trending":"Athletes"},e))}),(0,r.jsxs)("div",{className:"px-5",children:["feed"===g&&(f?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"w-6 h-6 border-2 border-[#0066FF] border-t-transparent rounded-full animate-spin"})}):0===p.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[r.jsx("div",{className:"text-5xl mb-4",children:"\uD83E\uDD1D"}),r.jsx("h2",{className:"font-bold text-lg mb-2",children:"Your feed is empty"}),r.jsx("p",{className:"text-neutral-500 text-sm mb-6",children:"Follow other athletes to see their workouts, PRs, and milestones here."}),r.jsx("button",{onClick:()=>b("users"),className:"px-6 py-3 bg-[#0066FF] text-white rounded-xl font-semibold text-sm",children:"Find People to Follow"})]}):r.jsx("div",{className:"-mx-5",children:p.map(e=>r.jsx(o,{activity:e},e.id))})),"trending"===g&&(0===i.length?(0,r.jsxs)("div",{className:"text-center py-12 text-neutral-500 text-sm",children:[r.jsx("p",{className:"text-3xl mb-3",children:"\uD83C\uDFCB️"}),r.jsx("p",{children:"No shared workouts yet."}),r.jsx("p",{className:"mt-1",children:"Be the first to share yours!"})]}):r.jsx("div",{className:"space-y-4",children:i.map(e=>r.jsx(d,{workout:e},e.id))})),"users"===g&&r.jsx("div",{className:"divide-y divide-[#1a1a1a]",children:x.map(e=>r.jsx(c,{user:e,onFollowToggle:F},e.id))})]})]}),r.jsx(l.Z,{active:"discover"})]})}},1189:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(10326);let a={xs:"w-6 h-6 text-[10px]",sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-xl",xl:"w-24 h-24 text-3xl"};function n({user:e,size:s="md",className:t=""}){let n=e.name||"Athlete",l=`rounded-full overflow-hidden border border-white/15 flex items-center justify-center font-semibold ${a[s]} ${t}`;return e.avatarUrl?r.jsx("div",{className:l,children:r.jsx("img",{src:e.avatarUrl,alt:n,className:"w-full h-full object-cover"})}):r.jsx("div",{className:l,style:{backgroundColor:function(e){let s=0;for(let t=0;t<e.length;t++)s=(s<<5)-s+e.charCodeAt(t);let t=["#14532d","#1d4ed8","#7c2d12","#4c1d95","#0f766e","#9a3412"];return t[Math.abs(s)%t.length]}(n)},children:function(e){let s=e.trim().split(/\s+/).filter(Boolean);return s.length<=1?(s[0]||"?").slice(0,2).toUpperCase():(s[0][0]+s[1][0]).toUpperCase()}(n)})}},90501:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var r=t(68570);let a=(0,r.createProxy)(String.raw`C:\Users\Geric\Desktop\forc3\src\app\discover\page.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let i=(0,r.createProxy)(String.raw`C:\Users\Geric\Desktop\forc3\src\app\discover\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[8948,6313,434,4248],()=>t(24843));module.exports=r})();